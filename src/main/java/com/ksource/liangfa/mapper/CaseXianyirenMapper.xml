<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ksource.liangfa.mapper.CaseXianyirenMapper">
  <resultMap id="BaseResultMap" type="com.ksource.liangfa.domain.CaseXianyiren">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    <id column="XIANYIREN_ID" jdbcType="DECIMAL" property="xianyirenId" />
    <result column="CASE_ID" jdbcType="VARCHAR" property="caseId" />
    <result column="NAME" jdbcType="VARCHAR" property="name" />
    <result column="IDS_NO" jdbcType="VARCHAR" property="idsNo" />
    <result column="SEX" jdbcType="VARCHAR" property="sex" />
    <result column="BIRTHDAY" jdbcType="DATE" property="birthday" />
    <result column="NATION" jdbcType="VARCHAR" property="nation" />
    <result column="EDUCATION" jdbcType="VARCHAR" property="education" />
    <result column="BIRTHPLACE" jdbcType="VARCHAR" property="birthplace" />
    <result column="PROFESSION" jdbcType="VARCHAR" property="profession" />
    <result column="ADDRESS" jdbcType="VARCHAR" property="address" />
    <result column="TEL" jdbcType="VARCHAR" property="tel" />
    <result column="DAIBU_STATE" jdbcType="DECIMAL" property="daibuState" />
    <result column="TIQINGQISU_STATE" jdbcType="DECIMAL" property="tiqingqisuState" />
    <result column="TIQIGONGSU_STATE" jdbcType="DECIMAL" property="tiqigongsuState" />
    <result column="FAYUANPANJUE_STATE" jdbcType="DECIMAL" property="fayuanpanjueState" />
    <result column="TIQINGDAIBU_TIME" jdbcType="TIMESTAMP" property="tiqingdaibuTime" />
    <result column="TIQINGDAIBU_CASE_INFO" jdbcType="VARCHAR" property="tiqingdaibuCaseInfo" />
    <result column="PIZHUNDAIBU_TIME" jdbcType="TIMESTAMP" property="pizhundaibuTime" />
    <result column="PIZHUNDAIBU_CASE_INFO" jdbcType="VARCHAR" property="pizhundaibuCaseInfo" />
    <result column="NODAIBU_LY" jdbcType="VARCHAR" property="nodaibuLy" />
    <result column="NODAIBU_TIME" jdbcType="TIMESTAMP" property="nodaibuTime" />
    <result column="TIQINGQISU_TIME" jdbcType="TIMESTAMP" property="tiqingqisuTime" />
    <result column="TIQINGQISU_CASE_INFO" jdbcType="VARCHAR" property="tiqingqisuCaseInfo" />
    <result column="TIQIGONGSU_TIME" jdbcType="TIMESTAMP" property="tiqigongsuTime" />
    <result column="TIQIGONGSU_CASE_INFO" jdbcType="VARCHAR" property="tiqigongsuCaseInfo" />
    <result column="BUQISU_LY" jdbcType="VARCHAR" property="buqisuLy" />
    <result column="BUQISU_TIME" jdbcType="TIMESTAMP" property="buqisuTime" />
    <result column="PANJUE1_JG" jdbcType="VARCHAR" property="panjue1Jg" />
    <result column="PANJUE2_JG" jdbcType="VARCHAR" property="panjue2Jg" />
    <result column="PANJUE_EFFECT_TIME" jdbcType="TIMESTAMP" property="panjueEffectTime" />
    <result column="PANJUE1_TIME" jdbcType="TIMESTAMP" property="panjue1Time" />
    <result column="PANJUE2_TIME" jdbcType="TIMESTAMP" property="panjue2Time" />
    <result column="CONDITION_ID" jdbcType="DECIMAL" property="conditionId" />
    <result column="RESIDENCE" jdbcType="VARCHAR" property="residence" />
    <result column="SPECIAL_IDENTITY" jdbcType="DECIMAL" property="specialIdentity" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    XIANYIREN_ID, CASE_ID, NAME, IDS_NO, SEX, BIRTHDAY, NATION, EDUCATION, BIRTHPLACE, 
    PROFESSION, ADDRESS, TEL, DAIBU_STATE, TIQINGQISU_STATE, TIQIGONGSU_STATE, FAYUANPANJUE_STATE, 
    TIQINGDAIBU_TIME, TIQINGDAIBU_CASE_INFO, PIZHUNDAIBU_TIME, PIZHUNDAIBU_CASE_INFO, 
    NODAIBU_LY, NODAIBU_TIME, TIQINGQISU_TIME, TIQINGQISU_CASE_INFO, TIQIGONGSU_TIME, 
    TIQIGONGSU_CASE_INFO, BUQISU_LY, BUQISU_TIME, PANJUE1_JG, PANJUE2_JG, PANJUE_EFFECT_TIME, 
    PANJUE1_TIME, PANJUE2_TIME, CONDITION_ID, RESIDENCE, SPECIAL_IDENTITY
  </sql>
  <select id="selectByExample" parameterType="com.ksource.liangfa.domain.CaseXianyirenExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from CASE_XIANYIREN
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    select 
    <include refid="Base_Column_List" />
    from CASE_XIANYIREN
    where XIANYIREN_ID = #{xianyirenId,jdbcType=DECIMAL}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="Long">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    delete from CASE_XIANYIREN
    where XIANYIREN_ID = #{xianyirenId,jdbcType=DECIMAL}
  </delete>
  
  <!-- 根据案件Id进行删除 -->
  <delete id="deleteByCaseId" parameterType="java.lang.String">
    DELETE FROM CASE_XIANYIREN
    WHERE CASE_ID = #{caseId,jdbcType=VARCHAR}
  </delete>
  <delete id="deleteByExample" parameterType="com.ksource.liangfa.domain.CaseXianyirenExample">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    delete from CASE_XIANYIREN
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.ksource.liangfa.domain.CaseXianyiren">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    insert into CASE_XIANYIREN (XIANYIREN_ID, CASE_ID, NAME, 
      IDS_NO, SEX, BIRTHDAY, 
      NATION, EDUCATION, BIRTHPLACE, 
      PROFESSION, ADDRESS, TEL, 
      DAIBU_STATE, TIQINGQISU_STATE, TIQIGONGSU_STATE, 
      FAYUANPANJUE_STATE, TIQINGDAIBU_TIME, TIQINGDAIBU_CASE_INFO, 
      PIZHUNDAIBU_TIME, PIZHUNDAIBU_CASE_INFO, 
      NODAIBU_LY, NODAIBU_TIME, TIQINGQISU_TIME, 
      TIQINGQISU_CASE_INFO, TIQIGONGSU_TIME, TIQIGONGSU_CASE_INFO, 
      BUQISU_LY, BUQISU_TIME, PANJUE1_JG, 
      PANJUE2_JG, PANJUE_EFFECT_TIME, PANJUE1_TIME, 
      PANJUE2_TIME, CONDITION_ID, RESIDENCE, 
      SPECIAL_IDENTITY)
    values (#{xianyirenId,jdbcType=DECIMAL}, #{caseId,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR}, 
      #{idsNo,jdbcType=VARCHAR}, #{sex,jdbcType=VARCHAR}, #{birthday,jdbcType=DATE}, 
      #{nation,jdbcType=VARCHAR}, #{education,jdbcType=VARCHAR}, #{birthplace,jdbcType=VARCHAR}, 
      #{profession,jdbcType=VARCHAR}, #{address,jdbcType=VARCHAR}, #{tel,jdbcType=VARCHAR}, 
      #{daibuState,jdbcType=DECIMAL}, #{tiqingqisuState,jdbcType=DECIMAL}, #{tiqigongsuState,jdbcType=DECIMAL}, 
      #{fayuanpanjueState,jdbcType=DECIMAL}, #{tiqingdaibuTime,jdbcType=TIMESTAMP}, #{tiqingdaibuCaseInfo,jdbcType=VARCHAR}, 
      #{pizhundaibuTime,jdbcType=TIMESTAMP}, #{pizhundaibuCaseInfo,jdbcType=VARCHAR}, 
      #{nodaibuLy,jdbcType=VARCHAR}, #{nodaibuTime,jdbcType=TIMESTAMP}, #{tiqingqisuTime,jdbcType=TIMESTAMP}, 
      #{tiqingqisuCaseInfo,jdbcType=VARCHAR}, #{tiqigongsuTime,jdbcType=TIMESTAMP}, #{tiqigongsuCaseInfo,jdbcType=VARCHAR}, 
      #{buqisuLy,jdbcType=VARCHAR}, #{buqisuTime,jdbcType=TIMESTAMP}, #{panjue1Jg,jdbcType=VARCHAR}, 
      #{panjue2Jg,jdbcType=VARCHAR}, #{panjueEffectTime,jdbcType=TIMESTAMP}, #{panjue1Time,jdbcType=TIMESTAMP}, 
      #{panjue2Time,jdbcType=TIMESTAMP}, #{conditionId,jdbcType=DECIMAL}, #{residence,jdbcType=VARCHAR}, 
      #{specialIdentity,jdbcType=DECIMAL})
  </insert>
  <insert id="insertSelective" parameterType="com.ksource.liangfa.domain.CaseXianyiren">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    insert into CASE_XIANYIREN
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="xianyirenId != null">
        XIANYIREN_ID,
      </if>
      <if test="caseId != null">
        CASE_ID,
      </if>
      <if test="name != null">
        NAME,
      </if>
      <if test="idsNo != null">
        IDS_NO,
      </if>
      <if test="sex != null">
        SEX,
      </if>
      <if test="birthday != null">
        BIRTHDAY,
      </if>
      <if test="nation != null">
        NATION,
      </if>
      <if test="education != null">
        EDUCATION,
      </if>
      <if test="birthplace != null">
        BIRTHPLACE,
      </if>
      <if test="profession != null">
        PROFESSION,
      </if>
      <if test="address != null">
        ADDRESS,
      </if>
      <if test="tel != null">
        TEL,
      </if>
      <if test="daibuState != null">
        DAIBU_STATE,
      </if>
      <if test="tiqingqisuState != null">
        TIQINGQISU_STATE,
      </if>
      <if test="tiqigongsuState != null">
        TIQIGONGSU_STATE,
      </if>
      <if test="fayuanpanjueState != null">
        FAYUANPANJUE_STATE,
      </if>
      <if test="tiqingdaibuTime != null">
        TIQINGDAIBU_TIME,
      </if>
      <if test="tiqingdaibuCaseInfo != null">
        TIQINGDAIBU_CASE_INFO,
      </if>
      <if test="pizhundaibuTime != null">
        PIZHUNDAIBU_TIME,
      </if>
      <if test="pizhundaibuCaseInfo != null">
        PIZHUNDAIBU_CASE_INFO,
      </if>
      <if test="nodaibuLy != null">
        NODAIBU_LY,
      </if>
      <if test="nodaibuTime != null">
        NODAIBU_TIME,
      </if>
      <if test="tiqingqisuTime != null">
        TIQINGQISU_TIME,
      </if>
      <if test="tiqingqisuCaseInfo != null">
        TIQINGQISU_CASE_INFO,
      </if>
      <if test="tiqigongsuTime != null">
        TIQIGONGSU_TIME,
      </if>
      <if test="tiqigongsuCaseInfo != null">
        TIQIGONGSU_CASE_INFO,
      </if>
      <if test="buqisuLy != null">
        BUQISU_LY,
      </if>
      <if test="buqisuTime != null">
        BUQISU_TIME,
      </if>
      <if test="panjue1Jg != null">
        PANJUE1_JG,
      </if>
      <if test="panjue2Jg != null">
        PANJUE2_JG,
      </if>
      <if test="panjueEffectTime != null">
        PANJUE_EFFECT_TIME,
      </if>
      <if test="panjue1Time != null">
        PANJUE1_TIME,
      </if>
      <if test="panjue2Time != null">
        PANJUE2_TIME,
      </if>
      <if test="conditionId != null">
        CONDITION_ID,
      </if>
      <if test="residence != null">
        RESIDENCE,
      </if>
      <if test="specialIdentity != null">
        SPECIAL_IDENTITY,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="xianyirenId != null">
        #{xianyirenId,jdbcType=DECIMAL},
      </if>
      <if test="caseId != null">
        #{caseId,jdbcType=VARCHAR},
      </if>
      <if test="name != null">
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="idsNo != null">
        #{idsNo,jdbcType=VARCHAR},
      </if>
      <if test="sex != null">
        #{sex,jdbcType=VARCHAR},
      </if>
      <if test="birthday != null">
        #{birthday,jdbcType=DATE},
      </if>
      <if test="nation != null">
        #{nation,jdbcType=VARCHAR},
      </if>
      <if test="education != null">
        #{education,jdbcType=VARCHAR},
      </if>
      <if test="birthplace != null">
        #{birthplace,jdbcType=VARCHAR},
      </if>
      <if test="profession != null">
        #{profession,jdbcType=VARCHAR},
      </if>
      <if test="address != null">
        #{address,jdbcType=VARCHAR},
      </if>
      <if test="tel != null">
        #{tel,jdbcType=VARCHAR},
      </if>
      <if test="daibuState != null">
        #{daibuState,jdbcType=DECIMAL},
      </if>
      <if test="tiqingqisuState != null">
        #{tiqingqisuState,jdbcType=DECIMAL},
      </if>
      <if test="tiqigongsuState != null">
        #{tiqigongsuState,jdbcType=DECIMAL},
      </if>
      <if test="fayuanpanjueState != null">
        #{fayuanpanjueState,jdbcType=DECIMAL},
      </if>
      <if test="tiqingdaibuTime != null">
        #{tiqingdaibuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tiqingdaibuCaseInfo != null">
        #{tiqingdaibuCaseInfo,jdbcType=VARCHAR},
      </if>
      <if test="pizhundaibuTime != null">
        #{pizhundaibuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="pizhundaibuCaseInfo != null">
        #{pizhundaibuCaseInfo,jdbcType=VARCHAR},
      </if>
      <if test="nodaibuLy != null">
        #{nodaibuLy,jdbcType=VARCHAR},
      </if>
      <if test="nodaibuTime != null">
        #{nodaibuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tiqingqisuTime != null">
        #{tiqingqisuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tiqingqisuCaseInfo != null">
        #{tiqingqisuCaseInfo,jdbcType=VARCHAR},
      </if>
      <if test="tiqigongsuTime != null">
        #{tiqigongsuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tiqigongsuCaseInfo != null">
        #{tiqigongsuCaseInfo,jdbcType=VARCHAR},
      </if>
      <if test="buqisuLy != null">
        #{buqisuLy,jdbcType=VARCHAR},
      </if>
      <if test="buqisuTime != null">
        #{buqisuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="panjue1Jg != null">
        #{panjue1Jg,jdbcType=VARCHAR},
      </if>
      <if test="panjue2Jg != null">
        #{panjue2Jg,jdbcType=VARCHAR},
      </if>
      <if test="panjueEffectTime != null">
        #{panjueEffectTime,jdbcType=TIMESTAMP},
      </if>
      <if test="panjue1Time != null">
        #{panjue1Time,jdbcType=TIMESTAMP},
      </if>
      <if test="panjue2Time != null">
        #{panjue2Time,jdbcType=TIMESTAMP},
      </if>
      <if test="conditionId != null">
        #{conditionId,jdbcType=DECIMAL},
      </if>
      <if test="residence != null">
        #{residence,jdbcType=VARCHAR},
      </if>
      <if test="specialIdentity != null">
        #{specialIdentity,jdbcType=DECIMAL},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.ksource.liangfa.domain.CaseXianyirenExample" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    select count(*) from CASE_XIANYIREN
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    update CASE_XIANYIREN
    <set>
      <if test="record.xianyirenId != null">
        XIANYIREN_ID = #{record.xianyirenId,jdbcType=DECIMAL},
      </if>
      <if test="record.caseId != null">
        CASE_ID = #{record.caseId,jdbcType=VARCHAR},
      </if>
      <if test="record.name != null">
        NAME = #{record.name,jdbcType=VARCHAR},
      </if>
      <if test="record.idsNo != null">
        IDS_NO = #{record.idsNo,jdbcType=VARCHAR},
      </if>
      <if test="record.sex != null">
        SEX = #{record.sex,jdbcType=VARCHAR},
      </if>
      <if test="record.birthday != null">
        BIRTHDAY = #{record.birthday,jdbcType=DATE},
      </if>
      <if test="record.nation != null">
        NATION = #{record.nation,jdbcType=VARCHAR},
      </if>
      <if test="record.education != null">
        EDUCATION = #{record.education,jdbcType=VARCHAR},
      </if>
      <if test="record.birthplace != null">
        BIRTHPLACE = #{record.birthplace,jdbcType=VARCHAR},
      </if>
      <if test="record.profession != null">
        PROFESSION = #{record.profession,jdbcType=VARCHAR},
      </if>
      <if test="record.address != null">
        ADDRESS = #{record.address,jdbcType=VARCHAR},
      </if>
      <if test="record.tel != null">
        TEL = #{record.tel,jdbcType=VARCHAR},
      </if>
      <if test="record.daibuState != null">
        DAIBU_STATE = #{record.daibuState,jdbcType=DECIMAL},
      </if>
      <if test="record.tiqingqisuState != null">
        TIQINGQISU_STATE = #{record.tiqingqisuState,jdbcType=DECIMAL},
      </if>
      <if test="record.tiqigongsuState != null">
        TIQIGONGSU_STATE = #{record.tiqigongsuState,jdbcType=DECIMAL},
      </if>
      <if test="record.fayuanpanjueState != null">
        FAYUANPANJUE_STATE = #{record.fayuanpanjueState,jdbcType=DECIMAL},
      </if>
      <if test="record.tiqingdaibuTime != null">
        TIQINGDAIBU_TIME = #{record.tiqingdaibuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.tiqingdaibuCaseInfo != null">
        TIQINGDAIBU_CASE_INFO = #{record.tiqingdaibuCaseInfo,jdbcType=VARCHAR},
      </if>
      <if test="record.pizhundaibuTime != null">
        PIZHUNDAIBU_TIME = #{record.pizhundaibuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.pizhundaibuCaseInfo != null">
        PIZHUNDAIBU_CASE_INFO = #{record.pizhundaibuCaseInfo,jdbcType=VARCHAR},
      </if>
      <if test="record.nodaibuLy != null">
        NODAIBU_LY = #{record.nodaibuLy,jdbcType=VARCHAR},
      </if>
      <if test="record.nodaibuTime != null">
        NODAIBU_TIME = #{record.nodaibuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.tiqingqisuTime != null">
        TIQINGQISU_TIME = #{record.tiqingqisuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.tiqingqisuCaseInfo != null">
        TIQINGQISU_CASE_INFO = #{record.tiqingqisuCaseInfo,jdbcType=VARCHAR},
      </if>
      <if test="record.tiqigongsuTime != null">
        TIQIGONGSU_TIME = #{record.tiqigongsuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.tiqigongsuCaseInfo != null">
        TIQIGONGSU_CASE_INFO = #{record.tiqigongsuCaseInfo,jdbcType=VARCHAR},
      </if>
      <if test="record.buqisuLy != null">
        BUQISU_LY = #{record.buqisuLy,jdbcType=VARCHAR},
      </if>
      <if test="record.buqisuTime != null">
        BUQISU_TIME = #{record.buqisuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.panjue1Jg != null">
        PANJUE1_JG = #{record.panjue1Jg,jdbcType=VARCHAR},
      </if>
      <if test="record.panjue2Jg != null">
        PANJUE2_JG = #{record.panjue2Jg,jdbcType=VARCHAR},
      </if>
      <if test="record.panjueEffectTime != null">
        PANJUE_EFFECT_TIME = #{record.panjueEffectTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.panjue1Time != null">
        PANJUE1_TIME = #{record.panjue1Time,jdbcType=TIMESTAMP},
      </if>
      <if test="record.panjue2Time != null">
        PANJUE2_TIME = #{record.panjue2Time,jdbcType=TIMESTAMP},
      </if>
      <if test="record.conditionId != null">
        CONDITION_ID = #{record.conditionId,jdbcType=DECIMAL},
      </if>
      <if test="record.residence != null">
        RESIDENCE = #{record.residence,jdbcType=VARCHAR},
      </if>
      <if test="record.specialIdentity != null">
        SPECIAL_IDENTITY = #{record.specialIdentity,jdbcType=DECIMAL},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    update CASE_XIANYIREN
    set XIANYIREN_ID = #{record.xianyirenId,jdbcType=DECIMAL},
      CASE_ID = #{record.caseId,jdbcType=VARCHAR},
      NAME = #{record.name,jdbcType=VARCHAR},
      IDS_NO = #{record.idsNo,jdbcType=VARCHAR},
      SEX = #{record.sex,jdbcType=VARCHAR},
      BIRTHDAY = #{record.birthday,jdbcType=DATE},
      NATION = #{record.nation,jdbcType=VARCHAR},
      EDUCATION = #{record.education,jdbcType=VARCHAR},
      BIRTHPLACE = #{record.birthplace,jdbcType=VARCHAR},
      PROFESSION = #{record.profession,jdbcType=VARCHAR},
      ADDRESS = #{record.address,jdbcType=VARCHAR},
      TEL = #{record.tel,jdbcType=VARCHAR},
      DAIBU_STATE = #{record.daibuState,jdbcType=DECIMAL},
      TIQINGQISU_STATE = #{record.tiqingqisuState,jdbcType=DECIMAL},
      TIQIGONGSU_STATE = #{record.tiqigongsuState,jdbcType=DECIMAL},
      FAYUANPANJUE_STATE = #{record.fayuanpanjueState,jdbcType=DECIMAL},
      TIQINGDAIBU_TIME = #{record.tiqingdaibuTime,jdbcType=TIMESTAMP},
      TIQINGDAIBU_CASE_INFO = #{record.tiqingdaibuCaseInfo,jdbcType=VARCHAR},
      PIZHUNDAIBU_TIME = #{record.pizhundaibuTime,jdbcType=TIMESTAMP},
      PIZHUNDAIBU_CASE_INFO = #{record.pizhundaibuCaseInfo,jdbcType=VARCHAR},
      NODAIBU_LY = #{record.nodaibuLy,jdbcType=VARCHAR},
      NODAIBU_TIME = #{record.nodaibuTime,jdbcType=TIMESTAMP},
      TIQINGQISU_TIME = #{record.tiqingqisuTime,jdbcType=TIMESTAMP},
      TIQINGQISU_CASE_INFO = #{record.tiqingqisuCaseInfo,jdbcType=VARCHAR},
      TIQIGONGSU_TIME = #{record.tiqigongsuTime,jdbcType=TIMESTAMP},
      TIQIGONGSU_CASE_INFO = #{record.tiqigongsuCaseInfo,jdbcType=VARCHAR},
      BUQISU_LY = #{record.buqisuLy,jdbcType=VARCHAR},
      BUQISU_TIME = #{record.buqisuTime,jdbcType=TIMESTAMP},
      PANJUE1_JG = #{record.panjue1Jg,jdbcType=VARCHAR},
      PANJUE2_JG = #{record.panjue2Jg,jdbcType=VARCHAR},
      PANJUE_EFFECT_TIME = #{record.panjueEffectTime,jdbcType=TIMESTAMP},
      PANJUE1_TIME = #{record.panjue1Time,jdbcType=TIMESTAMP},
      PANJUE2_TIME = #{record.panjue2Time,jdbcType=TIMESTAMP},
      CONDITION_ID = #{record.conditionId,jdbcType=DECIMAL},
      RESIDENCE = #{record.residence,jdbcType=VARCHAR},
      SPECIAL_IDENTITY = #{record.specialIdentity,jdbcType=DECIMAL}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.ksource.liangfa.domain.CaseXianyiren">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    update CASE_XIANYIREN
    <set>
      <if test="caseId != null">
        CASE_ID = #{caseId,jdbcType=VARCHAR},
      </if>
      <if test="name != null">
        NAME = #{name,jdbcType=VARCHAR},
      </if>
      <if test="idsNo != null">
        IDS_NO = #{idsNo,jdbcType=VARCHAR},
      </if>
      <if test="sex != null">
        SEX = #{sex,jdbcType=VARCHAR},
      </if>
      <if test="birthday != null">
        BIRTHDAY = #{birthday,jdbcType=DATE},
      </if>
      <if test="nation != null">
        NATION = #{nation,jdbcType=VARCHAR},
      </if>
      <if test="education != null">
        EDUCATION = #{education,jdbcType=VARCHAR},
      </if>
      <if test="birthplace != null">
        BIRTHPLACE = #{birthplace,jdbcType=VARCHAR},
      </if>
      <if test="profession != null">
        PROFESSION = #{profession,jdbcType=VARCHAR},
      </if>
      <if test="address != null">
        ADDRESS = #{address,jdbcType=VARCHAR},
      </if>
      <if test="tel != null">
        TEL = #{tel,jdbcType=VARCHAR},
      </if>
      <if test="daibuState != null">
        DAIBU_STATE = #{daibuState,jdbcType=DECIMAL},
      </if>
      <if test="tiqingqisuState != null">
        TIQINGQISU_STATE = #{tiqingqisuState,jdbcType=DECIMAL},
      </if>
      <if test="tiqigongsuState != null">
        TIQIGONGSU_STATE = #{tiqigongsuState,jdbcType=DECIMAL},
      </if>
      <if test="fayuanpanjueState != null">
        FAYUANPANJUE_STATE = #{fayuanpanjueState,jdbcType=DECIMAL},
      </if>
      <if test="tiqingdaibuTime != null">
        TIQINGDAIBU_TIME = #{tiqingdaibuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tiqingdaibuCaseInfo != null">
        TIQINGDAIBU_CASE_INFO = #{tiqingdaibuCaseInfo,jdbcType=VARCHAR},
      </if>
      <if test="pizhundaibuTime != null">
        PIZHUNDAIBU_TIME = #{pizhundaibuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="pizhundaibuCaseInfo != null">
        PIZHUNDAIBU_CASE_INFO = #{pizhundaibuCaseInfo,jdbcType=VARCHAR},
      </if>
      <if test="nodaibuLy != null">
        NODAIBU_LY = #{nodaibuLy,jdbcType=VARCHAR},
      </if>
      <if test="nodaibuTime != null">
        NODAIBU_TIME = #{nodaibuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tiqingqisuTime != null">
        TIQINGQISU_TIME = #{tiqingqisuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tiqingqisuCaseInfo != null">
        TIQINGQISU_CASE_INFO = #{tiqingqisuCaseInfo,jdbcType=VARCHAR},
      </if>
      <if test="tiqigongsuTime != null">
        TIQIGONGSU_TIME = #{tiqigongsuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tiqigongsuCaseInfo != null">
        TIQIGONGSU_CASE_INFO = #{tiqigongsuCaseInfo,jdbcType=VARCHAR},
      </if>
      <if test="buqisuLy != null">
        BUQISU_LY = #{buqisuLy,jdbcType=VARCHAR},
      </if>
      <if test="buqisuTime != null">
        BUQISU_TIME = #{buqisuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="panjue1Jg != null">
        PANJUE1_JG = #{panjue1Jg,jdbcType=VARCHAR},
      </if>
      <if test="panjue2Jg != null">
        PANJUE2_JG = #{panjue2Jg,jdbcType=VARCHAR},
      </if>
      <if test="panjueEffectTime != null">
        PANJUE_EFFECT_TIME = #{panjueEffectTime,jdbcType=TIMESTAMP},
      </if>
      <if test="panjue1Time != null">
        PANJUE1_TIME = #{panjue1Time,jdbcType=TIMESTAMP},
      </if>
      <if test="panjue2Time != null">
        PANJUE2_TIME = #{panjue2Time,jdbcType=TIMESTAMP},
      </if>
      <if test="conditionId != null">
        CONDITION_ID = #{conditionId,jdbcType=DECIMAL},
      </if>
      <if test="residence != null">
        RESIDENCE = #{residence,jdbcType=VARCHAR},
      </if>
      <if test="specialIdentity != null">
        SPECIAL_IDENTITY = #{specialIdentity,jdbcType=DECIMAL},
      </if>
    </set>
    where XIANYIREN_ID = #{xianyirenId,jdbcType=DECIMAL}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ksource.liangfa.domain.CaseXianyiren">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 27 11:21:24 CST 2015.
    -->
    update CASE_XIANYIREN
    set CASE_ID = #{caseId,jdbcType=VARCHAR},
      NAME = #{name,jdbcType=VARCHAR},
      IDS_NO = #{idsNo,jdbcType=VARCHAR},
      SEX = #{sex,jdbcType=VARCHAR},
      BIRTHDAY = #{birthday,jdbcType=DATE},
      NATION = #{nation,jdbcType=VARCHAR},
      EDUCATION = #{education,jdbcType=VARCHAR},
      BIRTHPLACE = #{birthplace,jdbcType=VARCHAR},
      PROFESSION = #{profession,jdbcType=VARCHAR},
      ADDRESS = #{address,jdbcType=VARCHAR},
      TEL = #{tel,jdbcType=VARCHAR},
      DAIBU_STATE = #{daibuState,jdbcType=DECIMAL},
      TIQINGQISU_STATE = #{tiqingqisuState,jdbcType=DECIMAL},
      TIQIGONGSU_STATE = #{tiqigongsuState,jdbcType=DECIMAL},
      FAYUANPANJUE_STATE = #{fayuanpanjueState,jdbcType=DECIMAL},
      TIQINGDAIBU_TIME = #{tiqingdaibuTime,jdbcType=TIMESTAMP},
      TIQINGDAIBU_CASE_INFO = #{tiqingdaibuCaseInfo,jdbcType=VARCHAR},
      PIZHUNDAIBU_TIME = #{pizhundaibuTime,jdbcType=TIMESTAMP},
      PIZHUNDAIBU_CASE_INFO = #{pizhundaibuCaseInfo,jdbcType=VARCHAR},
      NODAIBU_LY = #{nodaibuLy,jdbcType=VARCHAR},
      NODAIBU_TIME = #{nodaibuTime,jdbcType=TIMESTAMP},
      TIQINGQISU_TIME = #{tiqingqisuTime,jdbcType=TIMESTAMP},
      TIQINGQISU_CASE_INFO = #{tiqingqisuCaseInfo,jdbcType=VARCHAR},
      TIQIGONGSU_TIME = #{tiqigongsuTime,jdbcType=TIMESTAMP},
      TIQIGONGSU_CASE_INFO = #{tiqigongsuCaseInfo,jdbcType=VARCHAR},
      BUQISU_LY = #{buqisuLy,jdbcType=VARCHAR},
      BUQISU_TIME = #{buqisuTime,jdbcType=TIMESTAMP},
      PANJUE1_JG = #{panjue1Jg,jdbcType=VARCHAR},
      PANJUE2_JG = #{panjue2Jg,jdbcType=VARCHAR},
      PANJUE_EFFECT_TIME = #{panjueEffectTime,jdbcType=TIMESTAMP},
      PANJUE1_TIME = #{panjue1Time,jdbcType=TIMESTAMP},
      PANJUE2_TIME = #{panjue2Time,jdbcType=TIMESTAMP},
      CONDITION_ID = #{conditionId,jdbcType=DECIMAL},
      RESIDENCE = #{residence,jdbcType=VARCHAR},
      SPECIAL_IDENTITY = #{specialIdentity,jdbcType=DECIMAL}
    where XIANYIREN_ID = #{xianyirenId,jdbcType=DECIMAL}
  </update>
	<!-- ============================================================================================= -->
	<resultMap extends="BaseResultMap" id="xianyirenResultMap" type="com.ksource.liangfa.domain.CaseXianyiren">
		<result column="orgId" jdbcType="DECIMAL" property="orgId" />
		<result column="orgType" jdbcType="VARCHAR" property="orgType" />
		<result column="districtCode" jdbcType="VARCHAR" property="districtCode" />
		<result column="condition_name" jdbcType="VARCHAR" property="conditionName" />
	</resultMap>
	<sql id="queryFields">
		<if test="sex!= null">
			AND SEX = #{sex,jdbcType=VARCHAR}
		</if>
		<if test="education!= null">
			AND EDUCATION = #{education,jdbcType=VARCHAR}
		</if>
		<if test="birthday!= null">
			AND BIRTHDAY = #{birthday,jdbcType=DATE}
		</if>
		<if test="daibuState!= null">
			<if test="daibuState == 0">
				AND XIANYIREN.DAIBU_STATE IN (1,2,4)
			</if>
			<if test="daibuState != 0">
				AND XIANYIREN.DAIBU_STATE =
				#{daibuState,jdbcType=DECIMAL}
			</if>
		</if>
		<if test="fayuanpanjueState!= null">
			AND FAYUANPANJUE_STATE =
			#{fayuanpanjueState,jdbcType=DECIMAL}
		</if>
		<if test="name!= null">
			AND NAME LIKE CONCAT(CONCAT('%',#{name}),'%')
		</if>
		<if test="idsNo!= null">
			AND IDS_NO LIKE CONCAT(CONCAT('%',#{idsNo}),'%')
		</if>
		<if test="nation!= null">
			AND NATION = #{nation}
		</if>
		<if test="profession!= null">
			AND PROFESSION LIKE CONCAT(CONCAT('%',#{profession}),'%')
		</if>
	</sql>


	<resultMap type="com.ksource.liangfa.domain.CaseXianyiren" id="getPaginationListResultMap">
	    <result column="IDS_NO" jdbcType="VARCHAR" property="idsNo" />
	    <result column="NAME" jdbcType="VARCHAR" property="name" />
	    <result column="SEX" jdbcType="VARCHAR" property="sex" />
	    <result column="NATION" jdbcType="VARCHAR" property="nation" />
	    <result column="BIRTHDAY" jdbcType="DATE" property="birthday" />
	    <result column="EDUCATION" jdbcType="VARCHAR" property="education" />
	    <result column="PROFESSION" jdbcType="VARCHAR" property="profession" />
	    <result column="DAIBU_STATE" jdbcType="DECIMAL" property="daibuState" />
	    <result column="FAYUANPANJUE_STATE" jdbcType="DECIMAL" property="fayuanpanjueState" />
	    <result column="CASE_NUM" jdbcType="DECIMAL" property="caseNum" />
	</resultMap>
	<select id="getPaginationList" parameterType="java.util.Map" resultMap="getPaginationListResultMap">
		SELECT XIANYIREN.IDS_NO, COUNT( XIANYIREN.IDS_NO) AS CASE_NUM, MIN(XIANYIREN.NAME) AS NAME,
               MIN(XIANYIREN.SEX) AS SEX,MIN(XIANYIREN.NATION) AS NATION,MIN(XIANYIREN.BIRTHDAY) AS BIRTHDAY,
               MIN(XIANYIREN.EDUCATION) AS EDUCATION,MIN(XIANYIREN.PROFESSION) AS PROFESSION,
               MIN(XIANYIREN.DAIBU_STATE) AS DAIBU_STATE,MIN(XIANYIREN.FAYUANPANJUE_STATE) AS FAYUANPANJUE_STATE
		  FROM CASE_XIANYIREN XIANYIREN, 
		  <choose>
			<when test="policeType != null and policeType == 2">
				(SELECT C.CASE_ID,C.INPUTER,C.CASE_NAME
					FROM CASE_BASIC C,
					(SELECT S.CASE_ID
				      FROM CASE_STEP S, ORGANISE O
				      WHERE S.TARGET_ORG_ID = O.ORG_CODE
				      AND S.TARGET_ORG_TYPE = '3'
				      AND O.POLICE_TYPE = 2
				      GROUP BY CASE_ID 
				     ) SO
				 WHERE C.CASE_ID=SO.CASE_ID) B
			</when>
			<when test="policeType != null and policeType == 1">
				(SELECT C.CASE_ID,C.INPUTER,C.CASE_NAME
					FROM CASE_BASIC C,
					(SELECT S.CASE_ID,O.POLICE_TYPE
				      FROM CASE_STEP S, ORGANISE O
				      WHERE S.TARGET_ORG_ID = O.ORG_CODE
				      AND S.TARGET_ORG_TYPE = '3'
				      GROUP BY CASE_ID,POLICE_TYPE 
				     ) SO
				     ON C.CASE_ID=SO.CASE_ID
				 WHERE (SO.POLICE_TYPE = 1 OR SO.POLICE_TYPE IS NULL)) B
			</when>				
			<otherwise>
				CASE_BASIC B 
			</otherwise>
		  </choose>
		  , USER_ C, ORGANISE D
		<where>
			XIANYIREN.CASE_ID = B.CASE_ID
	   		AND B.INPUTER = C.USER_ID
	 	 	AND C.ORG_ID = D.ORG_CODE
			<if test="orgPath != null">
				AND D.ORG_PATH LIKE CONCAT(#{orgPath,jdbcType=DECIMAL},'%')
			</if>
			<if test="districtCode !=null">
				AND D.DISTRICT_CODE LIKE CONCAT(#{districtCode},'%')
			</if>
			<include refid="queryFields" />
		</where>
		GROUP BY XIANYIREN.IDS_NO
	</select>

	<select id="getPaginationCount" parameterType="java.util.Map" resultType="java.lang.Integer">
		SELECT COUNT(TEMP.IDS_NO)
		FROM 
		(SELECT XIANYIREN.IDS_NO FROM CASE_XIANYIREN XIANYIREN, 
		<choose>
			<when test="policeType != null and policeType==2">
				(SELECT C.CASE_ID,C.INPUTER,C.CASE_NAME
					FROM CASE_BASIC C,
					(SELECT S.CASE_ID
				      FROM CASE_STEP S, ORGANISE O
				      WHERE S.TARGET_ORG_ID = O.ORG_CODE
				      AND S.TARGET_ORG_TYPE = '3'
				      AND O.POLICE_TYPE=2
				      GROUP BY CASE_ID 
				     ) SO
				 WHERE C.CASE_ID=SO.CASE_ID) B
			</when>
			<when test="policeType != null and policeType==1">
				(SELECT C.CASE_ID,C.INPUTER,C.CASE_NAME
					FROM CASE_BASIC C,
					(SELECT S.CASE_ID,O.POLICE_TYPE
				      FROM CASE_STEP S, ORGANISE O
				      WHERE S.TARGET_ORG_ID = O.ORG_CODE
				      AND S.TARGET_ORG_TYPE = '3'
				      GROUP BY CASE_ID,POLICE_TYPE 
				     ) SO
				     ON C.CASE_ID=SO.CASE_ID
				 WHERE (SO.POLICE_TYPE = 1 OR SO.POLICE_TYPE IS NULL)) B
			</when>			
			<otherwise>
				CASE_BASIC B 
			</otherwise>
		  </choose>
		, USER_ C, ORGANISE D
		<where>
			XIANYIREN.CASE_ID = B.CASE_ID
	   		AND B.INPUTER = C.USER_ID
	 	 	AND C.ORG_ID = D.ORG_CODE
			<if test="orgPath != null">
				AND D.ORG_PATH LIKE CONCAT(#{orgPath,jdbcType=DECIMAL},'%')
			</if>
			<if test="districtCode !=null">
				AND D.DISTRICT_CODE LIKE CONCAT(#{districtCode},'%')
			</if>
			<include refid="queryFields" />
		</where>
		GROUP BY XIANYIREN.IDS_NO)TEMP
	</select>

	<select id="getStateCount" parameterType="java.util.Map" resultType="java.lang.Integer">
		SELECT 
		COUNT(DISTINCT K.XIANYIREN_ID)
		FROM CASE_BASIC CB, CASE_STATE CS, CASE_XIANYIREN K
 		WHERE CB.CASE_ID = CS.CASE_ID
  		AND CB.CASE_ID = K.CASE_ID
		<choose>
			<when test="districtId!=null and districtId!=''">
				AND EXISTS (SELECT O.ORG_CODE FROM ORGANISE O,USER_ U WHERE 
    				CB.INPUTER=U.USER_ID AND O.ORG_TYPE IN (1,3)
   					AND U.ORG_ID=O.ORG_CODE AND O.DISTRICT_CODE IN 
				<foreach close=")" collection="districtLists" item="districtCode" open="(" separator=",">
	       			#{districtCode}
	       		</foreach>
				)
			</when>
			<otherwise>
				AND CB.INPUTER IN (SELECT A.USER_ID FROM USER_ A WHERE A.ORG_ID IN 
				<foreach close=")" collection="orgCodeLists" item="orgCode" open="(" separator=",">
	       			#{orgCode}
	       		</foreach>
				)
			</otherwise>
		</choose>
		<choose>
			<when test="daibuState!=null">
				AND K.DAIBU_STATE = #{daibuState}
			</when>
			<when test="panjueState!=null">
				AND K.FAYUANPANJUE_STATE=#{panjueState}
			</when>
			<when test="qisuState!=null">
				AND K.TIQIGONGSU_STATE=#{qisuState}
			</when>
		</choose>
		<if test="startTime != null">
			<![CDATA[
			   AND CB.INPUT_TIME >= #{startTime,jdbcType=TIMESTAMP}
			 	]]>
		</if>

		<if test="endTime != null">
			 <![CDATA[
			     AND CB.INPUT_TIME  < #{endTime,jdbcType=TIMESTAMP}
			 	]]>
		</if>
		<!-- ??????????(?????)??????? -->
		<if test="yearCode!= null and yearCode!='null' and yearCode!=''">
			AND to_char(CB.INPUT_TIME,'yyyy') = #{yearCode}
		</if>
		<if test="quarterCode!= null and quarterCode!='null' and quarterCode!=''">
			<if test="quarterCode==1">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 01
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 03
			</if>
			<if test="quarterCode==2">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 04
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 06
			</if>
			<if test="quarterCode==3">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 07
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 09
			</if>
			<if test="quarterCode==4">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 10
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 12
			</if>
		</if>
		<if test="monthCode!= null and monthCode!='null' and monthCode!=''">
			AND to_char(CB.INPUT_TIME,'yyyyMM') = #{monthCode}
		</if>
	</select>
	<select id="getStateList" parameterType="java.util.Map" resultMap="xianyirenResultMap">
		SELECT DISTINCT K.XIANYIREN_ID,
                K.CASE_ID,
                K.NAME,
                K.SEX,
                K.EDUCATION,
                K.DAIBU_STATE,
                K.FAYUANPANJUE_STATE
  		FROM CASE_BASIC CB, CASE_STATE CS, CASE_XIANYIREN K
 		WHERE CB.CASE_ID = CS.CASE_ID
  		AND CB.CASE_ID = K.CASE_ID
		<choose>
			<when test="districtId!=null and districtId!=''">
				AND EXISTS (SELECT O.ORG_CODE FROM ORGANISE O,USER_ U WHERE 
    				CB.INPUTER=U.USER_ID AND O.ORG_TYPE IN (1,3)
   					AND U.ORG_ID=O.ORG_CODE AND O.DISTRICT_CODE IN 
				<foreach close=")" collection="districtLists" item="districtCode" open="(" separator=",">
	       			#{districtCode}
	       		</foreach>
				)
			</when>
			<otherwise>
				AND CB.INPUTER IN (SELECT A.USER_ID FROM USER_ A WHERE A.ORG_ID IN 
				<foreach close=")" collection="orgCodeLists" item="orgCode" open="(" separator=",">
	       			#{orgCode}
	       		</foreach>
	       		)
			</otherwise>
		</choose>
		<choose>
			<when test="daibuState!=null">
				AND K.DAIBU_STATE= #{daibuState}
			</when>
			<when test="panjueState!=null">
				AND K.FAYUANPANJUE_STATE=#{panjueState}
			</when>
			<when test="qisuState!=null">
				AND K.TIQIGONGSU_STATE=#{qisuState}
			</when>
		</choose>
		<if test="startTime != null">
			<![CDATA[
			   AND CB.INPUT_TIME >= #{startTime,jdbcType=TIMESTAMP}
			 	]]>
		</if>

		<if test="endTime != null">
			 <![CDATA[
			    AND CB.INPUT_TIME  < #{endTime,jdbcType=TIMESTAMP}
			 	]]>
		</if>
		<!-- ??????????(?????)??????? -->
		<if test="yearCode!= null and yearCode!='null' and yearCode!=''">
			AND to_char(CB.INPUT_TIME,'yyyy') = #{yearCode}
		</if>
		<if test="quarterCode!= null and quarterCode!='null' and quarterCode!=''">
			<if test="quarterCode==1">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 01
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 03
			</if>
			<if test="quarterCode==2">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 04
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 06
			</if>
			<if test="quarterCode==3">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 07
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 09
			</if>
			<if test="quarterCode==4">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 10
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 12
			</if>
		</if>
		<if test="monthCode!= null and monthCode!='null' and monthCode!=''">
			AND to_char(CB.INPUT_TIME,'yyyyMM') = #{monthCode}
		</if>
		ORDER BY K.XIANYIREN_ID
	</select>
	<select id="getDaibuPartyCount" parameterType="map" resultType="int">
		SELECT COUNT(DISTINCT K.XIANYIREN_ID)
		FROM CASE_BASIC CB, CASE_STATE CS, CASE_XIANYIREN K
 		WHERE CB.CASE_ID = CS.CASE_ID
  		AND CB.CASE_ID = K.CASE_ID
		<choose>
			<when test="districtId!=null and districtId!='' ">
				AND EXISTS(SELECT U.USER_ID FROM V_USER_ORGANISE_DISTRICT U WHERE 
       				U.USER_ID=CB.INPUTER AND U.DISTRICT_CODE IN 
				<foreach close=")" collection="districtLists" item="districtCode" open="(" separator=",">
	       			#{districtCode}
	       		</foreach>
				)
			</when>
			<otherwise>
				AND CB.INPUTER IN (SELECT A.USER_ID FROM USER_ A WHERE A.ORG_ID= #{orgCode})
			</otherwise>
		</choose>
			AND K.DAIBU_STATE=3
		<if test="startTime != null">
			<![CDATA[
			   	AND CB.INPUT_TIME >= #{startTime,jdbcType=TIMESTAMP}
			 	]]>
		</if>

		<if test="endTime != null">
			 <![CDATA[
			     AND CB.INPUT_TIME < #{endTime,jdbcType=TIMESTAMP}
			 	]]>
		</if>
		<!-- ??????????(?????)??????? -->
		<if test="yearCode!= null and yearCode!='null' and yearCode!=''">
			AND to_char(CB.INPUT_TIME,'yyyy') = #{yearCode}
		</if>
		<if test="quarterCode!= null and quarterCode!='null' and quarterCode!=''">
			<if test="quarterCode==1">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 01
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 03
			</if>
			<if test="quarterCode==2">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 04
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 06
			</if>
			<if test="quarterCode==3">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 07
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 09
			</if>
			<if test="quarterCode==4">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 10
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 12
			</if>
		</if>
		<if test="monthCode!= null and monthCode!='null' and monthCode!=''">
			AND to_char(CB.INPUT_TIME,'yyyyMM') = #{monthCode}
		</if>
	</select>
	<select id="getDaibuPartyList" parameterType="map" resultMap="BaseResultMap">
		SELECT DISTINCT K.XIANYIREN_ID,
                K.CASE_ID,
                K.NAME,
                K.SEX,
                K.EDUCATION,
                K.DAIBU_STATE,
                K.FAYUANPANJUE_STATE
  		FROM CASE_BASIC CB, CASE_STATE CS, CASE_XIANYIREN K
 		WHERE CB.CASE_ID = CS.CASE_ID
  		AND CB.CASE_ID = K.CASE_ID
		<choose>
			<when test="districtId!=null">
				AND EXISTS(SELECT U.USER_ID FROM V_USER_ORGANISE_DISTRICT U WHERE 
       				U.USER_ID=CB.INPUTER AND U.DISTRICT_CODE IN 
				<foreach close=")" collection="districtLists" item="districtCode" open="(" separator=",">
	       			#{districtCode}
	       		</foreach>
				)
			</when>
			<otherwise>
				AND CB.INPUTER IN (SELECT A.USER_ID FROM USER_ A WHERE A.ORG_ID=#{orgCode})
			</otherwise>
		</choose>
			AND K.DAIBU_STATE=3
		<if test="startTime != null">
			<![CDATA[
			   	AND CB.INPUT_TIME >= #{startTime,jdbcType=TIMESTAMP}
			 	]]>
		</if>

		<if test="endTime != null">
			 <![CDATA[
			     AND CB.INPUT_TIME  < #{endTime,jdbcType=TIMESTAMP}
			 	]]>
		</if>
		<!-- ??????????(?????)??????? -->
		<if test="yearCode!= null and yearCode!='null' and yearCode!=''">
			AND to_char(CB.INPUT_TIME,'yyyy') = #{yearCode}
		</if>
		<if test="quarterCode!= null and quarterCode!='null' and quarterCode!=''">
			<if test="quarterCode==1">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 01
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 03
			</if>
			<if test="quarterCode==2">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 04
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 06
			</if>
			<if test="quarterCode==3">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 07
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 09
			</if>
			<if test="quarterCode==4">
				AND to_char(CB.INPUT_TIME,'MM') &gt;= 10
				AND to_char(CB.INPUT_TIME,'MM') &lt;= 12
			</if>
		</if>
		<if test="monthCode!= null and monthCode!='null' and monthCode!=''">
			AND to_char(CB.INPUT_TIME,'yyyyMM') = #{monthCode}
		</if>
		ORDER BY K.XIANYIREN_ID
	</select>
	<select id="getXianyirenCaseId" parameterType="com.ksource.liangfa.domain.CaseXianyirenExample" resultMap="BaseResultMap">
		select distinct case_id from case_xianyiren
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</select>
    <update id="updatePanjueInfo" parameterType="com.ksource.liangfa.domain.CaseXianyiren">
        update CASE_XIANYIREN
        set
          PANJUE1_JG = #{panjue1Jg,jdbcType=VARCHAR},
          PANJUE2_JG = #{panjue2Jg,jdbcType=VARCHAR},
          PANJUE_EFFECT_TIME = #{panjueEffectTime,jdbcType=TIMESTAMP},
          PANJUE1_TIME = #{panjue1Time,jdbcType=TIMESTAMP},
          PANJUE2_TIME = #{panjue2Time,jdbcType=TIMESTAMP},
          FAYUANPANJUE_STATE=#{fayuanpanjueState},
          CONDITION_ID = #{conditionId,jdbcType=DECIMAL}
        where XIANYIREN_ID = #{xianyirenId,jdbcType=DECIMAL}
      </update>
      
      <select id="getStateListByOrg" parameterType="java.util.Map" resultMap="xianyirenResultMap">
		SELECT DISTINCT K.XIANYIREN_ID,
                K.CASE_ID,
                K.NAME,
                K.SEX,
                K.EDUCATION,
                K.DAIBU_STATE,
                K.FAYUANPANJUE_STATE
  		FROM CASE_BASIC CB, CASE_STATE CS, CASE_XIANYIREN K
 		WHERE CB.CASE_ID = CS.CASE_ID
  		AND CB.CASE_ID = K.CASE_ID
		<choose>
			<when test="districtId!=null and districtId!=''">
				AND EXISTS (SELECT O.ORG_CODE FROM ORGANISE O,USER_ U WHERE 
    				CB.INPUTER=U.USER_ID AND O.ORG_TYPE IN (1,3)
   					AND U.ORG_ID=O.ORG_CODE AND O.DISTRICT_CODE = #{districtId}
				)
			</when>
			<otherwise>
				AND CB.INPUTER IN (SELECT A.USER_ID FROM USER_ A WHERE 
				A.ORG_ID = #{orgCode}
				)
			</otherwise>
		</choose>
		<choose>
			<when test="daibuState!=null">
				AND K.DAIBU_STATE= #{daibuState}
			</when>
			<when test="panjueState!=null">
				AND K.FAYUANPANJUE_STATE=#{panjueState}
			</when>
			<when test="qisuState!=null">
				AND K.TIQIGONGSU_STATE=#{qisuState}
			</when>
		</choose>
		<if test="startTime != null">
			<![CDATA[
			   AND CB.INPUT_TIME >= #{startTime,jdbcType=TIMESTAMP}
			 	]]>
		</if>

		<if test="endTime != null">
			 <![CDATA[
			    AND CB.INPUT_TIME  < #{endTime,jdbcType=TIMESTAMP}
			 	]]>
		</if>
		ORDER BY K.XIANYIREN_ID
	</select>
      <select id="getStateCountByOrg" parameterType="java.util.Map" resultType="java.lang.Integer">
		SELECT 
		COUNT(DISTINCT K.XIANYIREN_ID)
		FROM CASE_BASIC CB, CASE_STATE CS, CASE_XIANYIREN K
 		WHERE CB.CASE_ID = CS.CASE_ID
  		AND CB.CASE_ID = K.CASE_ID
		<choose>
			<when test="districtId!=null and districtId!=''">
				AND EXISTS (SELECT O.ORG_CODE FROM ORGANISE O,USER_ U WHERE 
    				CB.INPUTER=U.USER_ID AND O.ORG_TYPE IN (1,3)
   					AND U.ORG_ID=O.ORG_CODE AND O.DISTRICT_CODE = #{districtId}
				)
			</when>
			<otherwise>
				AND CB.INPUTER IN (SELECT A.USER_ID FROM USER_ A WHERE 
				A.ORG_ID = #{orgCode}
				)
			</otherwise>
		</choose>
		<choose>
			<when test="daibuState!=null">
				AND K.DAIBU_STATE = #{daibuState}
			</when>
			<when test="panjueState!=null">
				AND K.FAYUANPANJUE_STATE=#{panjueState}
			</when>
			<when test="qisuState!=null">
				AND K.TIQIGONGSU_STATE=#{qisuState}
			</when>
		</choose>
		<if test="startTime != null">
			<![CDATA[
			   AND CB.INPUT_TIME >= #{startTime,jdbcType=TIMESTAMP}
			 	]]>
		</if>

		<if test="endTime != null">
			 <![CDATA[
			     AND CB.INPUT_TIME  < #{endTime,jdbcType=TIMESTAMP}
			 	]]>
		</if>
	</select>
	
	<select id="selectById" parameterType="int" resultMap="xianyirenResultMap">
		select  XIANYIREN_ID, CASE_ID, NAME, IDS_NO, SEX, BIRTHDAY, NATION, EDUCATION, BIRTHPLACE, 
    PROFESSION, ADDRESS, TEL, DAIBU_STATE, TIQINGQISU_STATE, TIQIGONGSU_STATE, FAYUANPANJUE_STATE, 
    TIQINGDAIBU_TIME, TIQINGDAIBU_CASE_INFO, PIZHUNDAIBU_TIME, PIZHUNDAIBU_CASE_INFO, 
    NODAIBU_LY, NODAIBU_TIME, TIQINGQISU_TIME, TIQINGQISU_CASE_INFO, TIQIGONGSU_TIME, 
    TIQIGONGSU_CASE_INFO, BUQISU_LY, BUQISU_TIME, PANJUE1_JG, PANJUE2_JG, PANJUE_EFFECT_TIME,
    PANJUE1_TIME, PANJUE2_TIME, CONDITION_ID,(select condition_name from judge_condition jc where jc.condition_id = cx.condition_id) as condition_name from case_xianyiren cx where cx.xianyiren_id = #{xianyirenId}
	</select>
	
	<select id="findAll" parameterType="com.ksource.liangfa.domain.CaseXianyiren" resultMap="xianyirenResultMap">
		select  XIANYIREN_ID, CASE_ID, NAME, IDS_NO, SEX, BIRTHDAY, NATION, EDUCATION, BIRTHPLACE, 
    PROFESSION, ADDRESS, TEL, DAIBU_STATE, TIQINGQISU_STATE, TIQIGONGSU_STATE, FAYUANPANJUE_STATE, 
    TIQINGDAIBU_TIME, TIQINGDAIBU_CASE_INFO, PIZHUNDAIBU_TIME, PIZHUNDAIBU_CASE_INFO, 
    NODAIBU_LY, NODAIBU_TIME, TIQINGQISU_TIME, TIQINGQISU_CASE_INFO, TIQIGONGSU_TIME, 
    TIQIGONGSU_CASE_INFO, BUQISU_LY, BUQISU_TIME, PANJUE1_JG, PANJUE2_JG, PANJUE_EFFECT_TIME,RESIDENCE,SPECIAL_IDENTITY,
    PANJUE1_TIME, PANJUE2_TIME, CONDITION_ID,(select condition_name from judge_condition jc where jc.condition_id = cx.condition_id) as condition_name from case_xianyiren cx 
    <where>
    	<if test="caseId != null">
    		AND cx.case_id = #{caseId}
    	</if>
    	<if test="tiqigongsuState != null">
    		AND cx.tiqigongsu_state = #{tiqigongsuState}
    	</if>
    </where>
	</select>
  	<select id="queryNoExportDataList" parameterType="map" resultMap="BaseResultMap">
		SELECT #{districtCode}||XIANYIREN_ID AS XIANYIREN_ID, #{districtCode}||CASE_ID AS CASE_ID, NAME, IDS_NO, SEX, BIRTHDAY, NATION, EDUCATION, BIRTHPLACE, 
		    PROFESSION, ADDRESS, TEL, DAIBU_STATE, TIQINGQISU_STATE, TIQIGONGSU_STATE, FAYUANPANJUE_STATE, 
		    TIQINGDAIBU_TIME, TIQINGDAIBU_CASE_INFO, PIZHUNDAIBU_TIME, PIZHUNDAIBU_CASE_INFO, 
		    NODAIBU_LY, NODAIBU_TIME, TIQINGQISU_TIME, TIQINGQISU_CASE_INFO, TIQIGONGSU_TIME, 
		    TIQIGONGSU_CASE_INFO, BUQISU_LY, BUQISU_TIME, PANJUE1_JG, PANJUE2_JG, PANJUE_EFFECT_TIME, 
		    PANJUE1_TIME, PANJUE2_TIME, CONDITION_ID
		  FROM CASE_XIANYIREN 
		 WHERE EXISTS 
		       (SELECT 1 FROM CASE_MODIFIED_INFO WHERE EXP_STATE = 'N'
		       AND XIANYIREN_ID =  KEY_VALUE
		       AND TABLE_NAME = #{tableName})
	</select>
	
	<resultMap id="xianyirenCaseMap" type="com.ksource.liangfa.domain.CaseBasic" >
    	<result property="caseId" column="CASE_ID" jdbcType="VARCHAR"/>
        <result property="caseNo" column="CASE_NO" jdbcType="VARCHAR"/>
        <result property="caseName" column="CASE_NAME" jdbcType="VARCHAR"/>
        <result property="caseState" column="CASE_STATE" jdbcType="VARCHAR"/>
        <result property="inputTime" column="INPUT_TIME" jdbcType="TIMESTAMP"/>
        <result property="inputUnit" column="INPUT_UNIT" jdbcType="VARCHAR"/>
        <result property="orgName" column="ORG_NAME" jdbcType="VARCHAR"/>
        <result property="procKey" column="PROC_KEY"  jdbcType="VARCHAR"/>
    </resultMap>
    
    <select id="queryCaseByIdsNoList" parameterType="java.util.Map" resultMap="xianyirenCaseMap">
		SELECT C.CASE_ID,C.CASE_NO,C.CASE_NAME,C.INPUT_TIME,C.CASE_STATE,C.INPUT_UNIT,D.ORG_NAME,C.PROC_KEY
		FROM CASE_BASIC C,CASE_XIANYIREN CX,USER_ U, ORGANISE D
		WHERE C.CASE_ID=CX.CASE_ID
		AND C.INPUTER = U.USER_ID
   		AND U.ORG_ID = D.ORG_CODE
		<if test="idsNo!=null">
		 	AND CX.IDS_NO=#{idsNo}
		</if>
		<if test="orgPath != null">
			AND D.ORG_PATH LIKE CONCAT(#{orgPath,jdbcType=DECIMAL},'%')
		</if>
		<if test="districtCode !=null">
			AND D.DISTRICT_CODE LIKE CONCAT(#{districtCode},'%')
		</if>
		<if test="caseNo!=null and caseNo!=''">
			AND INSTR(C.CASE_NO,#{caseNo})> 0
		</if>
		<if test="caseName!=null and caseName!=''">
			AND INSTR(C.CASE_NAME,#{caseName})> 0
		</if>
	</select>
	
	<select id="queryCaseByIdsNoCount" parameterType="java.util.Map" resultType="java.lang.Integer">
		SELECT COUNT(C.CASE_ID)
		FROM CASE_BASIC C,CASE_XIANYIREN CX,USER_ U, ORGANISE D
		WHERE C.CASE_ID=CX.CASE_ID
		AND C.INPUTER = U.USER_ID
   		AND U.ORG_ID = D.ORG_CODE
		<if test="idsNo!=null">
			AND CX.IDS_NO=#{idsNo}
		</if>
		<if test="orgPath != null">
			AND D.ORG_PATH LIKE CONCAT(#{orgPath,jdbcType=DECIMAL},'%')
		</if>
		<if test="districtCode !=null">
			AND D.DISTRICT_CODE LIKE CONCAT(#{districtCode},'%')
		</if>
		<if test="caseNo!=null and caseNo!=''">
			AND INSTR(C.CASE_NO,#{caseNo})> 0
		</if>
		<if test="caseName!=null and caseName!=''">
			AND INSTR(C.CASE_NAME,#{caseName})> 0
		</if>
	</select>	
	<!-- 更新未进行流程提交的嫌疑人和案件关系状态 -->
	<update id="updateXianyirenStateByCaseId" parameterType="java.util.Map">
		UPDATE CASE_XIANYIREN CX 
		<set>
		   <if test="qisuStateFail != null">
				CX.TIQINGQISU_STATE = #{qisuStateFail,jdbcType=DECIMAL},
	      </if>
		   <if test="daibuStateNo != null">
				CX.DAIBU_STATE = #{daibuStateNo,jdbcType=DECIMAL},
	      </if>
		</set>
		 WHERE CX.CASE_ID = #{caseId,jdbcType=VARCHAR}
		 <if test="qisuStateSuccess !=null">
			 AND CX.TIQINGQISU_STATE = #{qisuStateSuccess,jdbcType=DECIMAL} 
		 </if>
		 <if test="daibuStateYes !=null">
			 AND CX.DAIBU_STATE = #{daibuStateYes,jdbcType=DECIMAL} 
		 </if>
	</update>
</mapper>