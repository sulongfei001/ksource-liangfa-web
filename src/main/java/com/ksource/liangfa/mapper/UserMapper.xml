<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ksource.liangfa.mapper.UserMapper">
  <resultMap id="BaseResultMap" type="com.ksource.liangfa.domain.User">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    <id column="USER_ID" jdbcType="VARCHAR" property="userId" />
    <result column="ORG_ID" jdbcType="DECIMAL" property="orgId" />
    <result column="USER_NAME" jdbcType="VARCHAR" property="userName" />
    <result column="PARENT_ID" jdbcType="VARCHAR" property="parentId" />
    <result column="PASSWORD" jdbcType="VARCHAR" property="password" />
    <result column="EMAIL" jdbcType="VARCHAR" property="email" />
    <result column="TELEPHONE" jdbcType="VARCHAR" property="telephone" />
    <result column="ADDRESS" jdbcType="VARCHAR" property="address" />
    <result column="ID_CARD" jdbcType="VARCHAR" property="idCard" />
    <result column="IS_VALID" jdbcType="DECIMAL" property="isValid" />
    <result column="LAST_TIME" jdbcType="TIMESTAMP" property="lastTime" />
    <result column="USER_NOTE" jdbcType="VARCHAR" property="userNote" />
    <result column="CREATE_USER_ID" jdbcType="VARCHAR" property="createUserId" />
    <result column="USER_TYPE" jdbcType="DECIMAL" property="userType" />
    <result column="POST_ID" jdbcType="DECIMAL" property="postId" />
    <result column="DEPT_ID" jdbcType="DECIMAL" property="deptId" />
    <result column="SI_USER_TYPE" jdbcType="VARCHAR" property="siUserType" />
    <result column="SI_USER_ID" jdbcType="VARCHAR" property="siUserId" />
    <result column="SI_ORG_ID" jdbcType="VARCHAR" property="siOrgId" />
    <result column="ACCOUNT" jdbcType="VARCHAR" property="account" />
    <result column="IS_LOGIN" jdbcType="DECIMAL" property="isLogin" />
    <result column="DEVICE_CODE" jdbcType="VARCHAR" property="deviceCode" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    USER_ID, ORG_ID, USER_NAME, PARENT_ID, PASSWORD, EMAIL, TELEPHONE, ADDRESS, ID_CARD, 
    IS_VALID, LAST_TIME, USER_NOTE, CREATE_USER_ID, USER_TYPE, POST_ID, DEPT_ID, SI_USER_TYPE, 
    SI_USER_ID, SI_ORG_ID, ACCOUNT, IS_LOGIN,DEVICE_CODE
  </sql>
  <select id="selectByExample" parameterType="com.ksource.liangfa.domain.UserExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from USER_
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    select 
    <include refid="Base_Column_List" />
    from USER_
    where USER_ID = #{userId,jdbcType=VARCHAR}
  </select>
  
  <select id="selectByOrgCode" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    SELECT 
    <include refid="Base_Column_List" />
    FROM USER_
    WHERE ORG_ID = #{orgCode,jdbcType=DECIMAL}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    delete from USER_
    where USER_ID = #{userId,jdbcType=VARCHAR}
  </delete>
  <delete id="deleteByExample" parameterType="com.ksource.liangfa.domain.UserExample">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    delete from USER_
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.ksource.liangfa.domain.User">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    insert into USER_ (USER_ID, ORG_ID, USER_NAME, 
      PARENT_ID, PASSWORD, EMAIL, 
      TELEPHONE, ADDRESS, ID_CARD, 
      IS_VALID, LAST_TIME, USER_NOTE, 
      CREATE_USER_ID, USER_TYPE, POST_ID, 
      DEPT_ID, SI_USER_TYPE, SI_USER_ID, 
      SI_ORG_ID, ACCOUNT, IS_LOGIN,DEVICE_CODE
      )
    values (#{userId,jdbcType=VARCHAR}, #{orgId,jdbcType=DECIMAL}, #{userName,jdbcType=VARCHAR}, 
      #{parentId,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR}, #{email,jdbcType=VARCHAR}, 
      #{telephone,jdbcType=VARCHAR}, #{address,jdbcType=VARCHAR}, #{idCard,jdbcType=VARCHAR}, 
      #{isValid,jdbcType=DECIMAL}, #{lastTime,jdbcType=TIMESTAMP}, #{userNote,jdbcType=VARCHAR}, 
      #{createUserId,jdbcType=VARCHAR}, #{userType,jdbcType=DECIMAL}, #{postId,jdbcType=DECIMAL}, 
      #{deptId,jdbcType=DECIMAL}, #{siUserType,jdbcType=VARCHAR}, #{siUserId,jdbcType=VARCHAR}, 
      #{siOrgId,jdbcType=VARCHAR}, #{account,jdbcType=VARCHAR}, #{isLogin,jdbcType=DECIMAL},
      #{deviceCode,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.ksource.liangfa.domain.User">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    insert into USER_
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="userId != null">
        USER_ID,
      </if>
      <if test="orgId != null">
        ORG_ID,
      </if>
      <if test="userName != null">
        USER_NAME,
      </if>
      <if test="parentId != null">
        PARENT_ID,
      </if>
      <if test="password != null">
        PASSWORD,
      </if>
      <if test="email != null">
        EMAIL,
      </if>
      <if test="telephone != null">
        TELEPHONE,
      </if>
      <if test="address != null">
        ADDRESS,
      </if>
      <if test="idCard != null">
        ID_CARD,
      </if>
      <if test="isValid != null">
        IS_VALID,
      </if>
      <if test="lastTime != null">
        LAST_TIME,
      </if>
      <if test="userNote != null">
        USER_NOTE,
      </if>
      <if test="createUserId != null">
        CREATE_USER_ID,
      </if>
      <if test="userType != null">
        USER_TYPE,
      </if>
      <if test="postId != null">
        POST_ID,
      </if>
      <if test="deptId != null">
        DEPT_ID,
      </if>
      <if test="siUserType != null">
        SI_USER_TYPE,
      </if>
      <if test="siUserId != null">
        SI_USER_ID,
      </if>
      <if test="siOrgId != null">
        SI_ORG_ID,
      </if>
      <if test="account != null">
        ACCOUNT,
      </if>
      <if test="isLogin != null">
        IS_LOGIN,
      </if>
      <if test="deviceCode != null">
        DEVICE_CODE,
      </if>      
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="userId != null">
        #{userId,jdbcType=VARCHAR},
      </if>
      <if test="orgId != null">
        #{orgId,jdbcType=DECIMAL},
      </if>
      <if test="userName != null">
        #{userName,jdbcType=VARCHAR},
      </if>
      <if test="parentId != null">
        #{parentId,jdbcType=VARCHAR},
      </if>
      <if test="password != null">
        #{password,jdbcType=VARCHAR},
      </if>
      <if test="email != null">
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="telephone != null">
        #{telephone,jdbcType=VARCHAR},
      </if>
      <if test="address != null">
        #{address,jdbcType=VARCHAR},
      </if>
      <if test="idCard != null">
        #{idCard,jdbcType=VARCHAR},
      </if>
      <if test="isValid != null">
        #{isValid,jdbcType=DECIMAL},
      </if>
      <if test="lastTime != null">
        #{lastTime,jdbcType=TIMESTAMP},
      </if>
      <if test="userNote != null">
        #{userNote,jdbcType=VARCHAR},
      </if>
      <if test="createUserId != null">
        #{createUserId,jdbcType=VARCHAR},
      </if>
      <if test="userType != null">
        #{userType,jdbcType=DECIMAL},
      </if>
      <if test="postId != null">
        #{postId,jdbcType=DECIMAL},
      </if>
      <if test="deptId != null">
        #{deptId,jdbcType=DECIMAL},
      </if>
      <if test="siUserType != null">
        #{siUserType,jdbcType=VARCHAR},
      </if>
      <if test="siUserId != null">
        #{siUserId,jdbcType=VARCHAR},
      </if>
      <if test="siOrgId != null">
        #{siOrgId,jdbcType=VARCHAR},
      </if>
      <if test="account != null">
        #{account,jdbcType=VARCHAR},
      </if>
      <if test="isLogin != null">
        #{isLogin,jdbcType=DECIMAL},
      </if>
      <if test="deviceCode != null">
        #{deviceCode,jdbcType=VARCHAR},
      </if>      
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.ksource.liangfa.domain.UserExample" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    select count(*) from USER_
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    update USER_
    <set>
      <if test="record.userId != null">
        USER_ID = #{record.userId,jdbcType=VARCHAR},
      </if>
      <if test="record.orgId != null">
        ORG_ID = #{record.orgId,jdbcType=DECIMAL},
      </if>
      <if test="record.userName != null">
        USER_NAME = #{record.userName,jdbcType=VARCHAR},
      </if>
      <if test="record.parentId != null">
        PARENT_ID = #{record.parentId,jdbcType=VARCHAR},
      </if>
      <if test="record.password != null">
        PASSWORD = #{record.password,jdbcType=VARCHAR},
      </if>
      <if test="record.email != null">
        EMAIL = #{record.email,jdbcType=VARCHAR},
      </if>
      <if test="record.telephone != null">
        TELEPHONE = #{record.telephone,jdbcType=VARCHAR},
      </if>
      <if test="record.address != null">
        ADDRESS = #{record.address,jdbcType=VARCHAR},
      </if>
      <if test="record.idCard != null">
        ID_CARD = #{record.idCard,jdbcType=VARCHAR},
      </if>
      <if test="record.isValid != null">
        IS_VALID = #{record.isValid,jdbcType=DECIMAL},
      </if>
      <if test="record.lastTime != null">
        LAST_TIME = #{record.lastTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.userNote != null">
        USER_NOTE = #{record.userNote,jdbcType=VARCHAR},
      </if>
      <if test="record.createUserId != null">
        CREATE_USER_ID = #{record.createUserId,jdbcType=VARCHAR},
      </if>
      <if test="record.userType != null">
        USER_TYPE = #{record.userType,jdbcType=DECIMAL},
      </if>
      <if test="record.postId != null">
        POST_ID = #{record.postId,jdbcType=DECIMAL},
      </if>
      <if test="record.deptId != null">
        DEPT_ID = #{record.deptId,jdbcType=DECIMAL},
      </if>
      <if test="record.siUserType != null">
        SI_USER_TYPE = #{record.siUserType,jdbcType=VARCHAR},
      </if>
      <if test="record.siUserId != null">
        SI_USER_ID = #{record.siUserId,jdbcType=VARCHAR},
      </if>
      <if test="record.siOrgId != null">
        SI_ORG_ID = #{record.siOrgId,jdbcType=VARCHAR},
      </if>
      <if test="record.account != null">
        ACCOUNT = #{record.account,jdbcType=VARCHAR},
      </if>
      <if test="record.isLogin != null">
        IS_LOGIN = #{record.isLogin,jdbcType=DECIMAL},
      </if>
      <if test="record.deviceCode != null">
        DEVICE_CODE = #{record.deviceCode,jdbcType=DECIMAL},
      </if>      
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    update USER_
    set USER_ID = #{record.userId,jdbcType=VARCHAR},
      ORG_ID = #{record.orgId,jdbcType=DECIMAL},
      USER_NAME = #{record.userName,jdbcType=VARCHAR},
      PARENT_ID = #{record.parentId,jdbcType=VARCHAR},
      PASSWORD = #{record.password,jdbcType=VARCHAR},
      EMAIL = #{record.email,jdbcType=VARCHAR},
      TELEPHONE = #{record.telephone,jdbcType=VARCHAR},
      ADDRESS = #{record.address,jdbcType=VARCHAR},
      ID_CARD = #{record.idCard,jdbcType=VARCHAR},
      IS_VALID = #{record.isValid,jdbcType=DECIMAL},
      LAST_TIME = #{record.lastTime,jdbcType=TIMESTAMP},
      USER_NOTE = #{record.userNote,jdbcType=VARCHAR},
      CREATE_USER_ID = #{record.createUserId,jdbcType=VARCHAR},
      USER_TYPE = #{record.userType,jdbcType=DECIMAL},
      POST_ID = #{record.postId,jdbcType=DECIMAL},
      DEPT_ID = #{record.deptId,jdbcType=DECIMAL},
      SI_USER_TYPE = #{record.siUserType,jdbcType=VARCHAR},
      SI_USER_ID = #{record.siUserId,jdbcType=VARCHAR},
      SI_ORG_ID = #{record.siOrgId,jdbcType=VARCHAR},
      ACCOUNT = #{record.account,jdbcType=VARCHAR},
      IS_LOGIN = #{record.isLogin,jdbcType=DECIMAL},
      DEVICE_CODE = #{record.deviceCode,jdbcType=VARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.ksource.liangfa.domain.User">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    update USER_
    <set>
      <if test="orgId != null">
        ORG_ID = #{orgId,jdbcType=DECIMAL},
      </if>
      <if test="userName != null">
        USER_NAME = #{userName,jdbcType=VARCHAR},
      </if>
      <if test="parentId != null">
        PARENT_ID = #{parentId,jdbcType=VARCHAR},
      </if>
      <if test="password != null">
        PASSWORD = #{password,jdbcType=VARCHAR},
      </if>
      <if test="email != null">
        EMAIL = #{email,jdbcType=VARCHAR},
      </if>
      <if test="telephone != null">
        TELEPHONE = #{telephone,jdbcType=VARCHAR},
      </if>
      <if test="address != null">
        ADDRESS = #{address,jdbcType=VARCHAR},
      </if>
      <if test="idCard != null">
        ID_CARD = #{idCard,jdbcType=VARCHAR},
      </if>
      <if test="isValid != null">
        IS_VALID = #{isValid,jdbcType=DECIMAL},
      </if>
      <if test="lastTime != null">
        LAST_TIME = #{lastTime,jdbcType=TIMESTAMP},
      </if>
      <if test="userNote != null">
        USER_NOTE = #{userNote,jdbcType=VARCHAR},
      </if>
      <if test="createUserId != null">
        CREATE_USER_ID = #{createUserId,jdbcType=VARCHAR},
      </if>
      <if test="userType != null">
        USER_TYPE = #{userType,jdbcType=DECIMAL},
      </if>
      <if test="postId != null">
        POST_ID = #{postId,jdbcType=DECIMAL},
      </if>
      <if test="deptId != null">
        DEPT_ID = #{deptId,jdbcType=DECIMAL},
      </if>
      <if test="siUserType != null">
        SI_USER_TYPE = #{siUserType,jdbcType=VARCHAR},
      </if>
      <if test="siUserId != null">
        SI_USER_ID = #{siUserId,jdbcType=VARCHAR},
      </if>
      <if test="siOrgId != null">
        SI_ORG_ID = #{siOrgId,jdbcType=VARCHAR},
      </if>
      <if test="account != null">
        ACCOUNT = #{account,jdbcType=VARCHAR},
      </if>
      <if test="isLogin != null">
        IS_LOGIN = #{isLogin,jdbcType=DECIMAL},
      </if>
      <if test="deviceCode != null">
        DEVICE_CODE = #{deviceCode,jdbcType=VARCHAR}
      </if>
    </set>
    where USER_ID = #{userId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ksource.liangfa.domain.User">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 01 12:00:35 CST 2015.
    -->
    update USER_
    set ORG_ID = #{orgId,jdbcType=DECIMAL},
      USER_NAME = #{userName,jdbcType=VARCHAR},
      PARENT_ID = #{parentId,jdbcType=VARCHAR},
      PASSWORD = #{password,jdbcType=VARCHAR},
      EMAIL = #{email,jdbcType=VARCHAR},
      TELEPHONE = #{telephone,jdbcType=VARCHAR},
      ADDRESS = #{address,jdbcType=VARCHAR},
      ID_CARD = #{idCard,jdbcType=VARCHAR},
      IS_VALID = #{isValid,jdbcType=DECIMAL},
      LAST_TIME = #{lastTime,jdbcType=TIMESTAMP},
      USER_NOTE = #{userNote,jdbcType=VARCHAR},
      CREATE_USER_ID = #{createUserId,jdbcType=VARCHAR},
      USER_TYPE = #{userType,jdbcType=DECIMAL},
      POST_ID = #{postId,jdbcType=DECIMAL},
      DEPT_ID = #{deptId,jdbcType=DECIMAL},
      SI_USER_TYPE = #{siUserType,jdbcType=VARCHAR},
      SI_USER_ID = #{siUserId,jdbcType=VARCHAR},
      SI_ORG_ID = #{siOrgId,jdbcType=VARCHAR},
      ACCOUNT = #{account,jdbcType=VARCHAR},
      IS_LOGIN = #{isLogin,jdbcType=DECIMAL},
      DEVICE_CODE = #{deviceCode,jdbcType=VARCHAR}
    where USER_ID = #{userId,jdbcType=VARCHAR}
  </update>
  <!-- ================================================================================ -->
   <resultMap extends="BaseResultMap" id="manualResultMap" type="com.ksource.liangfa.domain.User">
	   <result column="orgName" property="orgName" />
	   <result column="postName" property="postName" />
   </resultMap>
   <sql id="Manual_Column_List">
    A.USER_ID , A.ORG_ID, A.USER_NAME, A.PARENT_ID, A.PASSWORD, A.EMAIL, A.TELEPHONE, A.ADDRESS, A.ID_CARD, 
    A.IS_VALID, A.LAST_TIME, A.USER_NOTE, A.CREATE_USER_ID, A.USER_TYPE,A.POST_ID,A.ACCOUNT,A.IS_LOGIN
  </sql>
  <sql id="trimField">
  <trim>
   		<if test="userId != null">
      AND  A.USER_ID like concat(concat('%',#{userId}),'%')
      </if>
      <if test="account != null">
      AND  A.account like concat(concat('%',#{account}),'%')
      </if>
	 <if test="orgId != null">
      AND  A.ORG_ID = #{orgId,jdbcType=DECIMAL}
      </if>
      <if test="userName != null">
       AND  A.USER_NAME like concat(concat('%',#{userName}),'%')
      </if>
      <if test="parentId != null">
      AND  A.PARENT_ID like concat(concat('%',#{parentId}),'%')
      </if>
      <if test="password != null">
       AND  A.PASSWORD like concat(concat('%',#{password}),'%')
      </if>
      <if test="email != null">
        AND A.EMAIL like concat(concat('%',#{email}),'%')
      </if>
      <if test="telephone != null">
        AND A.TELEPHONE like concat(concat('%',#{telephone}),'%')
      </if>
      <if test="address != null">
        AND A.ADDRESS like concat(concat('%',#{address}),'%')
      </if>
      <if test="idCard != null">
       AND  A.ID_CARD like concat(concat('%',#{idCard}),'%')
      </if>
      <if test="isValid != null">
        AND A.IS_VALID like concat(concat('%',#{isValid}),'%')
      </if>
      <if test="lastTime != null">
        AND A.LAST_TIME like concat(concat('%',#{lastTime}),'%')
      </if>
      <if test="userNote != null">
        AND A.USER_NOTE like concat(concat('%',#{userNote}),'%')
      </if>
      <if test="createUserId != null">
        AND A.CREATE_USER_ID like concat(concat('%',#{createUserId}),'%')
      </if>
      <if test="userType != null">
         AND A.USER_TYPE like concat(concat('%',#{userType}),'%')
      </if>
      <if test="postId != null">
        AND A.POST_ID like  concat(concat('%',#{postId}),'%')
      </if>
	</trim>
  </sql>
  <select id="selectByPk" parameterType="string" resultMap="manualResultMap">
      select A.*,B.org_Name as orgName,C.post_Name as postName from user_ A,ORGANISE B,post_ C where 
      a.org_id = b.org_code
      and  a.post_id = c.post_id
      and a.user_id=#{userId}
  </select>
    <select id="checkUser" parameterType="com.ksource.liangfa.domain.User" resultType="int">
		select count(*)  from user_ where is_valid = 1 and user_name = #userName# and password=#password#
	</select>
	<select id="getPaginationList" parameterType="map" resultMap="manualResultMap">
		 select 
      <include refid="Manual_Column_List" />
      ,b.post_name as postName
      ,c.org_name as orgName
  	  from USER_ A,POST_ B,ORGANISE C
		where 
		a.user_id !='systemAdmin'
		and a.user_id !=#{currentUserId,jdbcType=VARCHAR}
		and A.post_id = B.post_id
	    and 
	    A.org_id = C.org_code
	    <include refid="trimField" />
	    order by a.is_valid desc ,user_id asc
	</select>
	 <select id="getPaginationCount" resultType="int">
		select count(*)  
		   from USER_ A,POST_ B,ORGANISE C
		where 
		a.user_id !='systemAdmin'
		and a.user_id !=#{currentUserId,jdbcType=VARCHAR}
		and A.post_id = B.post_id
	    and 
	    A.org_id = C.org_code
	    <include refid="trimField" />
	</select>

	<select id="getTimeOutWarningTree" parameterType="map" resultMap="manualResultMap">
      select u.*,o.ORG_NAME as orgName  from user_ u,ORGANISE o where u.org_id = o.org_code and o.org_type = #{orgType,jdbcType=DECIMAL} and o.is_dept = #{isDept,jdbcType=DECIMAL} and o.DISTRICT_CODE = #{districtCode,jdbcType=VARCHAR}
	</select>
	
	<select id="getUserAndOrgan" parameterType="String" resultMap="manualResultMap">
      select u.*,o.ORG_NAME as orgName  from user_ u,ORGANISE o where u.org_id = o.org_code and u.USER_ID = #{userId}
	</select>
		
	<select id="getBySiUserId" parameterType="string" resultMap="manualResultMap">
      select A.*,B.org_Name as orgName,C.post_Name as postName from user_ A,ORGANISE B,post_ C where 
      a.org_id = b.org_code
      and  a.post_id = c.post_id
      and a.si_user_id =#{siUserId}
    </select>
    <update id="updateValidBySiUserId" parameterType="string">
	    update USER_ set
	      IS_VALID = 0
	    where SI_USER_ID = #{siUserId,jdbcType=VARCHAR}
  	</update>
  	<delete id="deleteBySiUserId" parameterType="java.lang.String">
	    delete from USER_
	    where SI_USER_ID = #{siUserId,jdbcType=VARCHAR}
  	</delete>
  	
  	<delete id="deleteByUserId" parameterType="java.lang.String">
	    delete from USER_
	    where USER_ID = #{userId,jdbcType=VARCHAR}
  	</delete>
  	
	 <select id="selectByAccount" parameterType="java.lang.String" resultMap="BaseResultMap">
	    select 
	    <include refid="Base_Column_List" />
	    from USER_
	    where account = #{account,jdbcType=VARCHAR}
	 </select>
	 <select id="selectFullByAccount" parameterType="string" resultMap="manualResultMap">
      select A.*,B.org_Name as orgName,C.post_Name as postName from user_ A,ORGANISE B,post_ C where 
      a.org_id = b.org_code
      and  a.post_id = c.post_id
      and a.account=#{account}
  	</select>
  	
  	<resultMap extends="BaseResultMap" id="userOrgDistrictMap" type="com.ksource.liangfa.domain.User">
	   <result column="orgName" property="orgName" />
	   <result column="districtCode" property="districtCode" />
	   <result column="districtName" property="districtName" />
   </resultMap>
   
   <select id="selectOrgDistrictByUserId" parameterType="string" resultMap="userOrgDistrictMap">
      select A.*,B.org_Name as orgName,C.DISTRICT_CODE as districtCode,c.DISTRICT_NAME as districtName from user_ A,ORGANISE B,district C where 
      a.org_id = b.org_code
      and  b.DISTRICT_CODE = c.DISTRICT_CODE
      and a.user_id=#{userId}
  	</select>
  	
  <sql id="Base_Column_List_App">USER_ID,ORG_ID,USER_NAME,EMAIL,TELEPHONE,TELEPHONE,ADDRESS,ID_CARD,LAST_TIME,USER_NOTE</sql>
  
  <select id="selectUserByUserNameForApp" parameterType="java.lang.String" resultMap="BaseResultMap">
    SELECT 
    <include refid="Base_Column_List_App" />
    FROM USER_
    WHERE INSTR(USER_NAME, #{userName,jdbcType=VARCHAR}) > 0
  </select>
  
  <select id="findByOrgCodeForApp" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    SELECT 
    <include refid="Base_Column_List_App" />
    FROM USER_
    WHERE ORG_ID = #{orgCode,jdbcType=DECIMAL}
  </select>
  
  <resultMap extends="BaseResultMap" id="ParticipantsMap" type="com.ksource.liangfa.domain.User">
	   <result column="ORG_NAME" property="orgName" />
	   <result column="USER_ID" property="userId" />
	   <result column="ORG_NAME" property="orgName" />
   </resultMap>
   
  <!-- 查询案件咨询参与人 -->
  <select id="getParticipantsList" parameterType="map" resultMap="ParticipantsMap">
  	SELECT U.USER_ID,U.USER_NAME,O.ORG_NAME 
  	FROM ORGANISE O,USER_ U 
  	WHERE O.ORG_TYPE > 1 
  	AND O.IS_DEPT = 0 
  	AND O.DISTRICT_CODE=#{districtCode}
  	AND U.ORG_ID = O.ORG_CODE
  	AND  <![CDATA[U.USER_ID <> 1]]>
  	<if test="orgCode != null">
  		AND	U.ORG_ID =#{orgCode}
  	</if>
  	ORDER BY O.ORG_CODE ASC
  </select>
  <select id="getParticipantsCount" parameterType="map" resultType="int">
  	SELECT COUNT(1) 
  	FROM ORGANISE O,USER_ U 
  	WHERE O.ORG_TYPE > 1 
  	AND O.IS_DEPT = 0 
  	AND O.DISTRICT_CODE =#{districtCode} 
  	AND U.ORG_ID = O.ORG_CODE
  	AND  <![CDATA[U.USER_ID <> 1]]>
  	<if test="orgCode != null">
  		AND U.ORG_ID =#{orgCode}
  	</if>
  </select>
  
  <select id="queryAll" resultMap="BaseResultMap">
    SELECT USER_ID, ORG_ID, USER_NAME, PARENT_ID, PASSWORD, EMAIL, TELEPHONE, ADDRESS, ID_CARD, 
    IS_VALID, LAST_TIME, USER_NOTE, CREATE_USER_ID, USER_TYPE, POST_ID, DEPT_ID, SI_USER_TYPE, 
    SI_USER_ID, SI_ORG_ID, ACCOUNT, IS_LOGIN FROM USER_
  </select>
  
  <select id="queryByOrgIds" resultMap="BaseResultMap">
    SELECT USER_ID, ORG_ID, USER_NAME, PARENT_ID, PASSWORD, EMAIL, TELEPHONE, ADDRESS, ID_CARD, 
    IS_VALID, LAST_TIME, USER_NOTE, CREATE_USER_ID, USER_TYPE, POST_ID, DEPT_ID, SI_USER_TYPE, 
    SI_USER_ID, SI_ORG_ID, ACCOUNT, IS_LOGIN FROM USER_    
    WHERE  ORG_ID IN
      <foreach collection="array" item="orgId" index="index"  
            open="(" close=")" separator=",">  
            #{orgId}  
        </foreach> 
  </select>
  <select id="querySameLevelUser" resultMap="BaseResultMap">
    SELECT USER_ID, ORG_ID, USER_NAME, PARENT_ID, PASSWORD, EMAIL, U.TELEPHONE, U.ADDRESS, ID_CARD, 
        IS_VALID, LAST_TIME, USER_NOTE, CREATE_USER_ID, USER_TYPE, POST_ID, DEPT_ID, SI_USER_TYPE, 
        SI_USER_ID, U.SI_ORG_ID, ACCOUNT, IS_LOGIN
     FROM USER_ U,ORGANISE O WHERE U.ORG_ID = O.ORG_CODE 
	 AND O.DISTRICT_CODE = (SELECT DISTRICT_CODE FROM ORGANISE O1 WHERE O1.ORG_CODE = #{orgCode})
	 AND O.ORG_TYPE = #{orgType}
  </select>
  
  <resultMap extends="BaseResultMap" id="getUserByDistrictJbMap" type="com.ksource.liangfa.domain.User">
	   <result column="USER_ID" property="userId" />
   </resultMap>
   
  <select id="getUserByDistrictJb" parameterType="map" resultMap="getUserByDistrictJbMap">
  	SELECT U.USER_ID
	FROM USER_ U,ORGANISE O,DISTRICT D
	WHERE U.ORG_ID=O.ORG_CODE AND O.DISTRICT_CODE=D.DISTRICT_CODE
	AND O.ORG_TYPE=2
	<if test="districtJB==2">
		AND D.JB=2
	</if>
	<if test="districtJB==3">
		<![CDATA[AND D.JB>=2]]>
	</if>
  </select>
</mapper>