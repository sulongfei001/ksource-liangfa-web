<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ksource.liangfa.mapper.CaseDutyMapper">
  <resultMap id="BaseResultMap" type="com.ksource.liangfa.domain.CaseDuty">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    <id column="CASE_ID" jdbcType="DECIMAL" property="caseId" />
    <result column="CASE_NO" jdbcType="VARCHAR" property="caseNo" />
    <result column="CASE_NAME" jdbcType="VARCHAR" property="caseName" />
    <result column="CASE_NATURE" jdbcType="VARCHAR" property="caseNature" />
    <result column="CASE_DETAIL_FILE_NAME" jdbcType="VARCHAR" property="caseDetailFileName" />
    <result column="PEOPLE_NAME" jdbcType="VARCHAR" property="peopleName" />
    <result column="PEOPLE_DUTY" jdbcType="VARCHAR" property="peopleDuty" />
    <result column="UNDERTAKER" jdbcType="VARCHAR" property="undertaker" />
    <result column="UNDERTAK_TIME" jdbcType="TIMESTAMP" property="undertakTime" />
    <result column="CHACHU_TIME" jdbcType="TIMESTAMP" property="chachuTime" />
    <result column="APPROVER" jdbcType="VARCHAR" property="approver" />
    <result column="INPUTER" jdbcType="VARCHAR" property="inputer" />
    <result column="INPUT_TIME" jdbcType="TIMESTAMP" property="inputTime" />
    <result column="CASE_STATE" jdbcType="VARCHAR" property="caseState" />
    <result column="PROC_KEY" jdbcType="VARCHAR" property="procKey" />
    <result column="PROC_INST_ID" jdbcType="VARCHAR" property="procInstId" />
    <result column="PROC_DEF_ID" jdbcType="VARCHAR" property="procDefId" />
    <result column="START_TIME" jdbcType="TIMESTAMP" property="startTime" />
    <result column="END_TIME" jdbcType="TIMESTAMP" property="endTime" />
    <result column="LATEST_POCESS_TIME" jdbcType="TIMESTAMP" property="latestPocessTime" />
    <result column="JIEAN_STATE" jdbcType="DECIMAL" property="jieanState" />
    <result column="CASE_DETAIL_FILE_PATH" jdbcType="VARCHAR" property="caseDetailFilePath" />
  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.ksource.liangfa.domain.CaseDutyWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    <result column="CASE_DETAIL_NAME" jdbcType="CLOB" property="caseDetailName" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    CASE_ID, CASE_NO, CASE_NAME, CASE_NATURE, CASE_DETAIL_FILE_NAME, PEOPLE_NAME, PEOPLE_DUTY, 
    UNDERTAKER, UNDERTAK_TIME, CHACHU_TIME, APPROVER, INPUTER, INPUT_TIME, CASE_STATE, 
    PROC_KEY, PROC_INST_ID, PROC_DEF_ID, START_TIME, END_TIME, LATEST_POCESS_TIME, JIEAN_STATE, 
    CASE_DETAIL_FILE_PATH
  </sql>
  <sql id="Blob_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    CASE_DETAIL_NAME
  </sql>
  <select id="selectByExampleWithBLOBs" parameterType="com.ksource.liangfa.domain.CaseDutyExample" resultMap="ResultMapWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from CASE_DUTY
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByExample" parameterType="com.ksource.liangfa.domain.CaseDutyExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from CASE_DUTY
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="Integer" resultMap="ResultMapWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from CASE_DUTY
    where CASE_ID = #{caseId,jdbcType=DECIMAL}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    delete from CASE_DUTY
    where CASE_ID = #{caseId,jdbcType=DECIMAL}
  </delete>
  <delete id="deleteByExample" parameterType="com.ksource.liangfa.domain.CaseDutyExample">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    delete from CASE_DUTY
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.ksource.liangfa.domain.CaseDuty">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    insert into CASE_DUTY (CASE_ID, CASE_NO, CASE_NAME, 
      CASE_NATURE, CASE_DETAIL_FILE_NAME, PEOPLE_NAME, 
      PEOPLE_DUTY, UNDERTAKER, UNDERTAK_TIME, 
      CHACHU_TIME, APPROVER, INPUTER, 
      INPUT_TIME, CASE_STATE, PROC_KEY, 
      PROC_INST_ID, PROC_DEF_ID, START_TIME, 
      END_TIME, LATEST_POCESS_TIME, JIEAN_STATE, 
      CASE_DETAIL_FILE_PATH, CASE_DETAIL_NAME)
    values (#{caseId,jdbcType=DECIMAL}, #{caseNo,jdbcType=VARCHAR}, #{caseName,jdbcType=VARCHAR}, 
      #{caseNature,jdbcType=VARCHAR}, #{caseDetailFileName,jdbcType=VARCHAR}, #{peopleName,jdbcType=VARCHAR}, 
      #{peopleDuty,jdbcType=VARCHAR}, #{undertaker,jdbcType=VARCHAR}, #{undertakTime,jdbcType=TIMESTAMP}, 
      #{chachuTime,jdbcType=TIMESTAMP}, #{approver,jdbcType=VARCHAR}, #{inputer,jdbcType=VARCHAR}, 
      #{inputTime,jdbcType=TIMESTAMP}, #{caseState,jdbcType=VARCHAR}, #{procKey,jdbcType=VARCHAR}, 
      #{procInstId,jdbcType=VARCHAR}, #{procDefId,jdbcType=VARCHAR}, #{startTime,jdbcType=TIMESTAMP}, 
      #{endTime,jdbcType=TIMESTAMP}, #{latestPocessTime,jdbcType=TIMESTAMP}, #{jieanState,jdbcType=DECIMAL}, 
      #{caseDetailFilePath,jdbcType=VARCHAR}, #{caseDetailName,jdbcType=CLOB})
  </insert>
  <insert id="insertSelective" parameterType="com.ksource.liangfa.domain.CaseDuty">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    insert into CASE_DUTY
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="caseId != null">
        CASE_ID,
      </if>
      <if test="caseNo != null">
        CASE_NO,
      </if>
      <if test="caseName != null">
        CASE_NAME,
      </if>
      <if test="caseNature != null">
        CASE_NATURE,
      </if>
      <if test="caseDetailFileName != null">
        CASE_DETAIL_FILE_NAME,
      </if>
      <if test="peopleName != null">
        PEOPLE_NAME,
      </if>
      <if test="peopleDuty != null">
        PEOPLE_DUTY,
      </if>
      <if test="undertaker != null">
        UNDERTAKER,
      </if>
      <if test="undertakTime != null">
        UNDERTAK_TIME,
      </if>
      <if test="chachuTime != null">
        CHACHU_TIME,
      </if>
      <if test="approver != null">
        APPROVER,
      </if>
      <if test="inputer != null">
        INPUTER,
      </if>
      <if test="inputTime != null">
        INPUT_TIME,
      </if>
      <if test="caseState != null">
        CASE_STATE,
      </if>
      <if test="procKey != null">
        PROC_KEY,
      </if>
      <if test="procInstId != null">
        PROC_INST_ID,
      </if>
      <if test="procDefId != null">
        PROC_DEF_ID,
      </if>
      <if test="startTime != null">
        START_TIME,
      </if>
      <if test="endTime != null">
        END_TIME,
      </if>
      <if test="latestPocessTime != null">
        LATEST_POCESS_TIME,
      </if>
      <if test="jieanState != null">
        JIEAN_STATE,
      </if>
      <if test="caseDetailFilePath != null">
        CASE_DETAIL_FILE_PATH,
      </if>
      <if test="caseDetailName != null">
        CASE_DETAIL_NAME,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="caseId != null">
        #{caseId,jdbcType=DECIMAL},
      </if>
      <if test="caseNo != null">
        #{caseNo,jdbcType=VARCHAR},
      </if>
      <if test="caseName != null">
        #{caseName,jdbcType=VARCHAR},
      </if>
      <if test="caseNature != null">
        #{caseNature,jdbcType=VARCHAR},
      </if>
      <if test="caseDetailFileName != null">
        #{caseDetailFileName,jdbcType=VARCHAR},
      </if>
      <if test="peopleName != null">
        #{peopleName,jdbcType=VARCHAR},
      </if>
      <if test="peopleDuty != null">
        #{peopleDuty,jdbcType=VARCHAR},
      </if>
      <if test="undertaker != null">
        #{undertaker,jdbcType=VARCHAR},
      </if>
      <if test="undertakTime != null">
        #{undertakTime,jdbcType=TIMESTAMP},
      </if>
      <if test="chachuTime != null">
        #{chachuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="approver != null">
        #{approver,jdbcType=VARCHAR},
      </if>
      <if test="inputer != null">
        #{inputer,jdbcType=VARCHAR},
      </if>
      <if test="inputTime != null">
        #{inputTime,jdbcType=TIMESTAMP},
      </if>
      <if test="caseState != null">
        #{caseState,jdbcType=VARCHAR},
      </if>
      <if test="procKey != null">
        #{procKey,jdbcType=VARCHAR},
      </if>
      <if test="procInstId != null">
        #{procInstId,jdbcType=VARCHAR},
      </if>
      <if test="procDefId != null">
        #{procDefId,jdbcType=VARCHAR},
      </if>
      <if test="startTime != null">
        #{startTime,jdbcType=TIMESTAMP},
      </if>
      <if test="endTime != null">
        #{endTime,jdbcType=TIMESTAMP},
      </if>
      <if test="latestPocessTime != null">
        #{latestPocessTime,jdbcType=TIMESTAMP},
      </if>
      <if test="jieanState != null">
        #{jieanState,jdbcType=DECIMAL},
      </if>
      <if test="caseDetailFilePath != null">
        #{caseDetailFilePath,jdbcType=VARCHAR},
      </if>
      <if test="caseDetailName != null">
        #{caseDetailName,jdbcType=CLOB},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.ksource.liangfa.domain.CaseDutyExample" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    select count(*) from CASE_DUTY
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    update CASE_DUTY
    <set>
      <if test="record.caseId != null">
        CASE_ID = #{record.caseId,jdbcType=DECIMAL},
      </if>
      <if test="record.caseNo != null">
        CASE_NO = #{record.caseNo,jdbcType=VARCHAR},
      </if>
      <if test="record.caseName != null">
        CASE_NAME = #{record.caseName,jdbcType=VARCHAR},
      </if>
      <if test="record.caseNature != null">
        CASE_NATURE = #{record.caseNature,jdbcType=VARCHAR},
      </if>
      <if test="record.caseDetailFileName != null">
        CASE_DETAIL_FILE_NAME = #{record.caseDetailFileName,jdbcType=VARCHAR},
      </if>
      <if test="record.peopleName != null">
        PEOPLE_NAME = #{record.peopleName,jdbcType=VARCHAR},
      </if>
      <if test="record.peopleDuty != null">
        PEOPLE_DUTY = #{record.peopleDuty,jdbcType=VARCHAR},
      </if>
      <if test="record.undertaker != null">
        UNDERTAKER = #{record.undertaker,jdbcType=VARCHAR},
      </if>
      <if test="record.undertakTime != null">
        UNDERTAK_TIME = #{record.undertakTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.chachuTime != null">
        CHACHU_TIME = #{record.chachuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.approver != null">
        APPROVER = #{record.approver,jdbcType=VARCHAR},
      </if>
      <if test="record.inputer != null">
        INPUTER = #{record.inputer,jdbcType=VARCHAR},
      </if>
      <if test="record.inputTime != null">
        INPUT_TIME = #{record.inputTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.caseState != null">
        CASE_STATE = #{record.caseState,jdbcType=VARCHAR},
      </if>
      <if test="record.procKey != null">
        PROC_KEY = #{record.procKey,jdbcType=VARCHAR},
      </if>
      <if test="record.procInstId != null">
        PROC_INST_ID = #{record.procInstId,jdbcType=VARCHAR},
      </if>
      <if test="record.procDefId != null">
        PROC_DEF_ID = #{record.procDefId,jdbcType=VARCHAR},
      </if>
      <if test="record.startTime != null">
        START_TIME = #{record.startTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.endTime != null">
        END_TIME = #{record.endTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.latestPocessTime != null">
        LATEST_POCESS_TIME = #{record.latestPocessTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.jieanState != null">
        JIEAN_STATE = #{record.jieanState,jdbcType=DECIMAL},
      </if>
      <if test="record.caseDetailFilePath != null">
        CASE_DETAIL_FILE_PATH = #{record.caseDetailFilePath,jdbcType=VARCHAR},
      </if>
      <if test="record.caseDetailName != null">
        CASE_DETAIL_NAME = #{record.caseDetailName,jdbcType=CLOB},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExampleWithBLOBs" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    update CASE_DUTY
    set CASE_ID = #{record.caseId,jdbcType=DECIMAL},
      CASE_NO = #{record.caseNo,jdbcType=VARCHAR},
      CASE_NAME = #{record.caseName,jdbcType=VARCHAR},
      CASE_NATURE = #{record.caseNature,jdbcType=VARCHAR},
      CASE_DETAIL_FILE_NAME = #{record.caseDetailFileName,jdbcType=VARCHAR},
      PEOPLE_NAME = #{record.peopleName,jdbcType=VARCHAR},
      PEOPLE_DUTY = #{record.peopleDuty,jdbcType=VARCHAR},
      UNDERTAKER = #{record.undertaker,jdbcType=VARCHAR},
      UNDERTAK_TIME = #{record.undertakTime,jdbcType=TIMESTAMP},
      CHACHU_TIME = #{record.chachuTime,jdbcType=TIMESTAMP},
      APPROVER = #{record.approver,jdbcType=VARCHAR},
      INPUTER = #{record.inputer,jdbcType=VARCHAR},
      INPUT_TIME = #{record.inputTime,jdbcType=TIMESTAMP},
      CASE_STATE = #{record.caseState,jdbcType=VARCHAR},
      PROC_KEY = #{record.procKey,jdbcType=VARCHAR},
      PROC_INST_ID = #{record.procInstId,jdbcType=VARCHAR},
      PROC_DEF_ID = #{record.procDefId,jdbcType=VARCHAR},
      START_TIME = #{record.startTime,jdbcType=TIMESTAMP},
      END_TIME = #{record.endTime,jdbcType=TIMESTAMP},
      LATEST_POCESS_TIME = #{record.latestPocessTime,jdbcType=TIMESTAMP},
      JIEAN_STATE = #{record.jieanState,jdbcType=DECIMAL},
      CASE_DETAIL_FILE_PATH = #{record.caseDetailFilePath,jdbcType=VARCHAR},
      CASE_DETAIL_NAME = #{record.caseDetailName,jdbcType=CLOB}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    update CASE_DUTY
    set CASE_ID = #{record.caseId,jdbcType=DECIMAL},
      CASE_NO = #{record.caseNo,jdbcType=VARCHAR},
      CASE_NAME = #{record.caseName,jdbcType=VARCHAR},
      CASE_NATURE = #{record.caseNature,jdbcType=VARCHAR},
      CASE_DETAIL_FILE_NAME = #{record.caseDetailFileName,jdbcType=VARCHAR},
      PEOPLE_NAME = #{record.peopleName,jdbcType=VARCHAR},
      PEOPLE_DUTY = #{record.peopleDuty,jdbcType=VARCHAR},
      UNDERTAKER = #{record.undertaker,jdbcType=VARCHAR},
      UNDERTAK_TIME = #{record.undertakTime,jdbcType=TIMESTAMP},
      CHACHU_TIME = #{record.chachuTime,jdbcType=TIMESTAMP},
      APPROVER = #{record.approver,jdbcType=VARCHAR},
      INPUTER = #{record.inputer,jdbcType=VARCHAR},
      INPUT_TIME = #{record.inputTime,jdbcType=TIMESTAMP},
      CASE_STATE = #{record.caseState,jdbcType=VARCHAR},
      PROC_KEY = #{record.procKey,jdbcType=VARCHAR},
      PROC_INST_ID = #{record.procInstId,jdbcType=VARCHAR},
      PROC_DEF_ID = #{record.procDefId,jdbcType=VARCHAR},
      START_TIME = #{record.startTime,jdbcType=TIMESTAMP},
      END_TIME = #{record.endTime,jdbcType=TIMESTAMP},
      LATEST_POCESS_TIME = #{record.latestPocessTime,jdbcType=TIMESTAMP},
      JIEAN_STATE = #{record.jieanState,jdbcType=DECIMAL},
      CASE_DETAIL_FILE_PATH = #{record.caseDetailFilePath,jdbcType=VARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.ksource.liangfa.domain.CaseDuty">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    update CASE_DUTY
    <set>
      <if test="caseNo != null">
        CASE_NO = #{caseNo,jdbcType=VARCHAR},
      </if>
      <if test="caseName != null">
        CASE_NAME = #{caseName,jdbcType=VARCHAR},
      </if>
      <if test="caseNature != null">
        CASE_NATURE = #{caseNature,jdbcType=VARCHAR},
      </if>
      <if test="caseDetailFileName != null">
        CASE_DETAIL_FILE_NAME = #{caseDetailFileName,jdbcType=VARCHAR},
      </if>
      <if test="peopleName != null">
        PEOPLE_NAME = #{peopleName,jdbcType=VARCHAR},
      </if>
      <if test="peopleDuty != null">
        PEOPLE_DUTY = #{peopleDuty,jdbcType=VARCHAR},
      </if>
      <if test="undertaker != null">
        UNDERTAKER = #{undertaker,jdbcType=VARCHAR},
      </if>
      <if test="undertakTime != null">
        UNDERTAK_TIME = #{undertakTime,jdbcType=TIMESTAMP},
      </if>
      <if test="chachuTime != null">
        CHACHU_TIME = #{chachuTime,jdbcType=TIMESTAMP},
      </if>
      <if test="approver != null">
        APPROVER = #{approver,jdbcType=VARCHAR},
      </if>
      <if test="inputer != null">
        INPUTER = #{inputer,jdbcType=VARCHAR},
      </if>
      <if test="inputTime != null">
        INPUT_TIME = #{inputTime,jdbcType=TIMESTAMP},
      </if>
      <if test="caseState != null">
        CASE_STATE = #{caseState,jdbcType=VARCHAR},
      </if>
      <if test="procKey != null">
        PROC_KEY = #{procKey,jdbcType=VARCHAR},
      </if>
      <if test="procInstId != null">
        PROC_INST_ID = #{procInstId,jdbcType=VARCHAR},
      </if>
      <if test="procDefId != null">
        PROC_DEF_ID = #{procDefId,jdbcType=VARCHAR},
      </if>
      <if test="startTime != null">
        START_TIME = #{startTime,jdbcType=TIMESTAMP},
      </if>
      <if test="endTime != null">
        END_TIME = #{endTime,jdbcType=TIMESTAMP},
      </if>
      <if test="latestPocessTime != null">
        LATEST_POCESS_TIME = #{latestPocessTime,jdbcType=TIMESTAMP},
      </if>
      <if test="jieanState != null">
        JIEAN_STATE = #{jieanState,jdbcType=DECIMAL},
      </if>
      <if test="caseDetailFilePath != null">
        CASE_DETAIL_FILE_PATH = #{caseDetailFilePath,jdbcType=VARCHAR},
      </if>
      <if test="caseDetailName != null">
        CASE_DETAIL_NAME = #{caseDetailName,jdbcType=CLOB},
      </if>
    </set>
    where CASE_ID = #{caseId,jdbcType=DECIMAL}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.ksource.liangfa.domain.CaseDuty">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    update CASE_DUTY
    set CASE_NO = #{caseNo,jdbcType=VARCHAR},
      CASE_NAME = #{caseName,jdbcType=VARCHAR},
      CASE_NATURE = #{caseNature,jdbcType=VARCHAR},
      CASE_DETAIL_FILE_NAME = #{caseDetailFileName,jdbcType=VARCHAR},
      PEOPLE_NAME = #{peopleName,jdbcType=VARCHAR},
      PEOPLE_DUTY = #{peopleDuty,jdbcType=VARCHAR},
      UNDERTAKER = #{undertaker,jdbcType=VARCHAR},
      UNDERTAK_TIME = #{undertakTime,jdbcType=TIMESTAMP},
      CHACHU_TIME = #{chachuTime,jdbcType=TIMESTAMP},
      APPROVER = #{approver,jdbcType=VARCHAR},
      INPUTER = #{inputer,jdbcType=VARCHAR},
      INPUT_TIME = #{inputTime,jdbcType=TIMESTAMP},
      CASE_STATE = #{caseState,jdbcType=VARCHAR},
      PROC_KEY = #{procKey,jdbcType=VARCHAR},
      PROC_INST_ID = #{procInstId,jdbcType=VARCHAR},
      PROC_DEF_ID = #{procDefId,jdbcType=VARCHAR},
      START_TIME = #{startTime,jdbcType=TIMESTAMP},
      END_TIME = #{endTime,jdbcType=TIMESTAMP},
      LATEST_POCESS_TIME = #{latestPocessTime,jdbcType=TIMESTAMP},
      JIEAN_STATE = #{jieanState,jdbcType=DECIMAL},
      CASE_DETAIL_FILE_PATH = #{caseDetailFilePath,jdbcType=VARCHAR},
      CASE_DETAIL_NAME = #{caseDetailName,jdbcType=CLOB}
    where CASE_ID = #{caseId,jdbcType=DECIMAL}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ksource.liangfa.domain.CaseDuty">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 27 11:38:12 CST 2012.
    -->
    update CASE_DUTY
    set CASE_NO = #{caseNo,jdbcType=VARCHAR},
      CASE_NAME = #{caseName,jdbcType=VARCHAR},
      CASE_NATURE = #{caseNature,jdbcType=VARCHAR},
      CASE_DETAIL_FILE_NAME = #{caseDetailFileName,jdbcType=VARCHAR},
      PEOPLE_NAME = #{peopleName,jdbcType=VARCHAR},
      PEOPLE_DUTY = #{peopleDuty,jdbcType=VARCHAR},
      UNDERTAKER = #{undertaker,jdbcType=VARCHAR},
      UNDERTAK_TIME = #{undertakTime,jdbcType=TIMESTAMP},
      CHACHU_TIME = #{chachuTime,jdbcType=TIMESTAMP},
      APPROVER = #{approver,jdbcType=VARCHAR},
      INPUTER = #{inputer,jdbcType=VARCHAR},
      INPUT_TIME = #{inputTime,jdbcType=TIMESTAMP},
      CASE_STATE = #{caseState,jdbcType=VARCHAR},
      PROC_KEY = #{procKey,jdbcType=VARCHAR},
      PROC_INST_ID = #{procInstId,jdbcType=VARCHAR},
      PROC_DEF_ID = #{procDefId,jdbcType=VARCHAR},
      START_TIME = #{startTime,jdbcType=TIMESTAMP},
      END_TIME = #{endTime,jdbcType=TIMESTAMP},
      LATEST_POCESS_TIME = #{latestPocessTime,jdbcType=TIMESTAMP},
      JIEAN_STATE = #{jieanState,jdbcType=DECIMAL},
      CASE_DETAIL_FILE_PATH = #{caseDetailFilePath,jdbcType=VARCHAR}
    where CASE_ID = #{caseId,jdbcType=DECIMAL}
  </update>

	<resultMap extends="BaseResultMap" id="procBusinessEntityResultMap" type="com.ksource.liangfa.domain.CaseDuty">
		<result column="publishUserName" property="publishUserName" />
		<result column="publishOrgName" property="publishOrgName" />
	</resultMap>
	<select id="queryProcBusinessEntity" parameterType="map" resultMap="procBusinessEntityResultMap">
		select c.*,u.user_name publishUserName ,o.org_name
		publishOrgName,(select count(*) from case_supervision cs where cs.user_id = #{userId} and cs.case_id = #{caseId}) supervision
		from CASE_DUTY c,USER_ u,ORGANISE o
		where c.inputer=u.user_id
		and u.org_id=o.org_code
		and c.CASE_ID=#{caseId}
	</select>


	<sql id="trimField">
		<trim>
			<if test="procKey != null">
				AND PROC_KEY =#{procKey,jdbcType=VARCHAR}
			</if>
			<if test="caseName != null">
				AND CASE_NAME LIKE CONCAT(CONCAT('%',#{caseName}),'%')
			</if>
			<if test="caseNo != null">
				AND CASE_NO LIKE CONCAT(CONCAT('%',#{caseNo}),'%')
			</if>
			<if test="peopleName != null">
				AND PEOPLE_NAME LIKE CONCAT(CONCAT('%',#{peopleName}),'%')
			</if>
			<if test="caseNature != null">
				AND CASE_NATURE LIKE CONCAT(CONCAT('%',#{caseNature}),'%')
			</if>
			<if test="undertaker != null">
				AND UNDERTAKER LIKE CONCAT(CONCAT('%',#{undertaker}),'%')
			</if>
			<if test="inputer != null">
				AND INPUTER =#{inputer,jdbcType=VARCHAR}
			</if>
			<if test="caseState != null">
				AND CASE_STATE = #{caseState}
			</if>
			<if test="orgId!=null ">
				AND INPUTER IN (SELECT USER_ID FROM USER_ WHERE ORG_ID IN 
         		(SELECT ORG_CODE FROM ORGANISE WHERE ORG_CODE=#{orgId}))
			</if>
			<if test="districtCode != null">
				AND O.DISTRICT_CODE LIKE CONCAT(CONCAT('%',#{districtCode}),'%')
			</if>
			<choose>
				<when test="startTime != null and endTime != null and input_time==null ">
	      <![CDATA[
	       	AND INPUT_TIME >= #{startTime,jdbcType=TIMESTAMP} AND INPUT_TIME  < (#{endTime,jdbcType=TIMESTAMP} +  INTERVAL '1' DAY)
	       	]]>
				</when>
				<when test="endTime != null and input_time==null">
	      <![CDATA[
		      	AND INPUT_TIME  < (#{endTime,jdbcType=TIMESTAMP} +  INTERVAL '1' DAY)
		   ]]>
				</when>
				<when test="startTime != null and input_time==null">
	      <![CDATA[
		      	AND INPUT_TIME >= #{startTime,jdbcType=TIMESTAMP}
		  ]]>
				</when>
			</choose>
		</trim>
	</sql>
	<select id="getPaginationCount" resultType="int">
		SELECT COUNT(*)
		  FROM CASE_DUTY A, USER_ B, ORGANISE O
		 WHERE A.INPUTER = B.USER_ID
		   AND B.ORG_ID = O.ORG_CODE
		<include refid="trimField" />
	</select>
	<resultMap extends="BaseResultMap" id="manualResultMap" type="com.ksource.liangfa.domain.CaseDuty">
		<result column="userName" property="publishUserName" />
	</resultMap>
	<select id="getPaginationList" parameterType="map" resultMap="manualResultMap">
		SELECT A.CASE_ID,
		       A.CASE_NO,
		       A.CASE_NAME,
		       A.CASE_STATE,
		       A.INPUT_TIME,
		       A.PROC_KEY,
		       A.LATEST_POCESS_TIME
		  FROM CASE_DUTY A, USER_ B, ORGANISE O
		 WHERE A.INPUTER = B.USER_ID
		   AND B.ORG_ID = O.ORG_CODE
		<include refid="trimField" />
		ORDER BY A.LATEST_POCESS_TIME DESC,A.CASE_ID ASC
	</select>
	<select id="searchCaseAndWorkflow" parameterType="map" resultMap="BaseResultMap">
		select c.* from case_duty c,user_ u,organise o
		where c.inputer=u.user_id and u.org_id=o.org_code
			<if test="caseNo!=null and caseNo!=''">
				and case_no like '%${caseNo}%'
			</if>
			<if test="caseName!=null and caseName!=''">
				and case_name like '%${caseName}%'
			</if>
			<if test="procKey!=null and procKey!=''">
			    and proc_key=#{procKey}
			</if>
			<if test="districtCode!=null and districtCode!=''">
				and o.district_code like '%${districtCode}%'
			</if>
		order by latest_pocess_time desc
	</select>
	<select id="searchCaseAndWorkflowCount" parameterType="map" resultType="int">
		select count(*) from case_duty c,user_ u,organise o
		where c.inputer=u.user_id and u.org_id=o.org_code
			<if test="caseNo!=null and caseNo!=''">
				and case_no like '%${caseNo}%'
			</if>
			<if test="caseName!=null and caseName!=''">
				and case_name like '%${caseName}%'
			</if>
			<if test="procKey!=null and procKey!=''">
			    and proc_key=#{procKey}
			</if>
			<if test="districtCode!=null and districtCode!=''">
				and o.district_code like '%${districtCode}%'
			</if>
	</select>
	<delete id="deleteCaseAndWorkflow" parameterType="java.lang.String">
		{call
		deleteCase_workflow(#{caseId,jdbcType=VARCHAR})
		}
	</delete>
	
	<select id="queryHistoryCaseBySameOrgAndCaseParty" parameterType="map" resultMap="ResultMapWithBLOBs">
		SELECT T1.*
		  FROM CASE_DUTY T1, USER_ T2
		 WHERE T1.CASE_ID &lt;&gt; #{caseId}
		   AND T1.INPUTER = T2.USER_ID
		   AND EXISTS (SELECT *
		          FROM CASE_DUTY A, USER_ U
		         WHERE A.INPUTER = U.USER_ID
		           AND U.ORG_ID = T2.ORG_ID
		           AND A.CASE_ID = #{caseId})
		   AND EXISTS (SELECT *
		          FROM ZWFZ_CASE_PARTY T3
		         WHERE T3.ZWFZ_CASE_ID = T1.CASE_ID
		           AND T3.IDS_NO = #{idsNo})
	</select>
</mapper>